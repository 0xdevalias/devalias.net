<?xml version="1.0" encoding="UTF-8" ?>

<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
   
      <title>devalias.net</title>
   
   <link>http://devalias.net</link>
   <description>Follow me into the rabbit hole that is my mind and learn about topics including.. security, technology, efficiency, biohacking, health, personal growth and probably a whole lot more.</description>
   <language>en_GB</language>
   <managingEditor> devalias</managingEditor>
   <atom:link href="rss" rel="self" type="application/rss+xml" />
   
	<item>
	  <title>USB Reverse Engineering: Down the rabbit hole</title>
	  <link>/devalias/2018/05/13/usb-reverse-engineering-down-the-rabbit-hole/</link>
	  <author>devalias</author>
	  <pubDate>2018-05-13T00:00:00+10:00</pubDate>
	  <guid>/devalias/2018/05/13/usb-reverse-engineering-down-the-rabbit-hole/</guid>
	  <description><![CDATA[
	     <blockquote>
<p>Thanks <a href="https://hackaday.com/2018/05/25/usb-reverse-engineering-a-universal-guide">for the featured writeup Hackaday</a>! Make sure to check out the <a href="https://hackaday.com/2018/05/25/usb-reverse-engineering-a-universal-guide/#comments">comments</a> over there as well.</p>

<p>Looks like <a href="https://hackernoon.com/usb-reverse-engineering-down-the-rabbit-hole-c4809a5b55c4">Hackernoon picked it up</a> as well, make sure to check in with the comments there too.</p>

<p>It would be great if you could also <a href="https://news.ycombinator.com/item?id=17164700">head over to Hacker News</a>, give an upvote, and join in the comments there. Let&#39;s get this information out there!</p>
</blockquote>

<p>I tend to dive down rabbit holes a lot, and given the cost of context switching and memory deteriorating over time, sometimes the state I build up in my mind gets lost between the chances I get to dive in. These &#39;linkdump&#39; posts are an attempt to collate at least some of that state in a way that I can hopefully restore to my brain at a later point.</p>

<p>This time around I was inspired to look into USB reverse engineering, protocol analyis, hardware hacking, and what would be involved in implementing custom drivers for arbitrary hardware. Or put another way: <strong>how do I hack all of the USBs?!??</strong></p>

<p>It seems the deeper I went, the more interesting I found the content, and this post grew and grew. Hopefully it will help to shortcut your own journey down this path, and enlighten you to a whole new area of interesting things to hack!</p>

<h2>Overview</h2>

<ul>
<li><a href="#tldr">tl;dr</a></li>
<li><a href="#intro-to-usb">Intro to USB</a></li>
<li><a href="#usb-re-intro">USB Reverse Engineering: An Introduction</a></li>
<li><a href="#usb-re-further-reading">USB Reverse Engineering: Further Reading</a></li>
<li><a href="#software">Software: Wireshark, usbmon, USBPcap, VirtualBox, etc</a></li>
<li><a href="#hardware-tldr">Hardware: tl;dr</a></li>
<li><a href="#hardware-usbsniffer">Hardware: BeagleBoard-XM / USBSniffer (~2010-2013, ~$149+)</a></li>
<li><a href="#hardware-openvizsla">Hardware: OpenVizsla (~2010-2014)</a></li>
<li><a href="#hardware-serialusb">Hardware: SerialUSB / GIMX USB Adapter (~2015, ~US$5-35)</a></li>
<li><a href="#hardware-goodfet">Hardware: GoodFET (~2009-2018+, ~US$50)</a></li>
<li><a href="#hardware-facedancer">Hardware: Facedancer, Beagledancer, Raspdancer (~2012-2018+, ~US$85-???)</a></li>
<li><a href="#hardware-usbproxy">Hardware: Beaglebone Black + USBProxy (~2013?)</a></li>
<li><a href="#hardware-daisho">Hardware: Daisho (~2013-?2018+?)</a></li>
<li><a href="#hardware-greatfet">Hardware: GreatFET (~2015-2018+)</a></li>
<li><a href="#hardware-facedancer-2">Hardware: Facedancer 2.0 (~2017-2018+)</a></li>
<li><a href="#hardware-commercial-beagleusb">Commercial Hardware: TotalPhase BeagleUSB</a></li>
<li><a href="#further-reading-presentations">Further Reading/Presentations</a></li>
<li><a href="#people-to-watch">People to Watch</a></li>
<li><a href="#code-drivers-etc">Code/Drivers/etc</a></li>
<li><a href="#where-next">Where next? Device Emulation, USB over IP, etc</a></li>
<li><a href="#iot-hardware-hacking-fuzzing-etc">IoT, Hardware Hacking, Fuzzing, etc</a></li>
<li><a href="#link-dump">Link Dump</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2><a name="tldr"></a>tl;dr</h2>

<p>This is long, has many sections, and time is precious:</p>

<ul>
<li><strong>Walkthrough:</strong> Read the <a href="#adafruit">Adafruit one</a></li>
<li><strong>Software:</strong> <a href="#software">Wireshark + usbpcap/usbmon</a></li>
<li><strong>Hardware:</strong> <a href="#hardware-greatfet">GreatFET</a>, <a href="#hardware-facedancer-2">Facedancer 2.0</a>, <a href="#hardware-daisho">Daisho</a></li>
<li><strong>Commercial Hardware:</strong> <a href="#hardware-commercial-beagleusb">BeagleUSB</a></li>
<li><strong>Interfacing/Drivers:</strong> <a href="#libusb-pyusb">libusb/pyUSB</a></li>
</ul>

<h2><a name="intro-to-usb"></a>Intro to USB</h2>

<p>USB (universal serial bus) is an industry standard covering cables, connectors and protocols; and is pretty ubiquitous among tech products these days. I won&#39;t get deep on describing all of the facts, since that&#39;s what Wikipedia is good at:</p>

<ul>
<li><a href="https://en.wikipedia.org/wiki/USB">https://en.wikipedia.org/wiki/USB</a></li>
</ul>

<p>That said, it will be useful to understand some of the aspects of how USB devices and protocols are laid out, and some of the terminology used.</p>

<p>A <a href="https://en.wikipedia.org/wiki/USB#System_design">USB system</a> (<a href="https://www.linuxvoice.com/drive-it-yourself-usb-car-6/">see also</a>) has:</p>

<ul>
<li>A <strong>host</strong>, with one or more downstream ports, and multiple peripherals</li>
<li><strong>Hubs</strong> may be included, allowing up to 5 tiers</li>
<li>A host may have multiple controllers, each with one or more ports</li>
<li>Up to 127 devices can be connected to a single host controller</li>
<li>A <strong>device</strong> may have several logical sub-devices, referred to as <strong>&#39;device functions&#39;</strong></li>
<li>A <strong>composite device</strong> may provide multiple functions (eg. webcam + microphone)</li>
<li>A <strong>compound device</strong> connects logical devices to a built in hub</li>
</ul>

<p>Digging into the protocol/communication side of things:</p>

<ul>
<li>Communication is based on <strong>pipes</strong> (logical channels), between the host and an endpoint (logical entity) on a device</li>
<li>A device can have <strong>up to 32 endpoints</strong> (16 IN, 16 OUT)</li>
<li><strong>Endpoints</strong> are defined and numbered during initialization, so tend to remain fairly permanent, whereas a pipe may be opened/closed</li>
<li>Two types of pipe: <strong>stream</strong> and <strong>message</strong></li>
<li><strong>Message pipes</strong> are bi-directional, used for control transfers short, simple commands + status response</li>
<li><strong>Stream pipes</strong> are uni-directional, transfers data in isochronous, interrupt or bulk transfer</li>
<li>A set of endpoints with associated metadata is also known as an <strong>interface</strong>, each is associated with a single device function</li>
<li>All USB <strong>devices have at least one endpoint</strong> (0), default, used for control transfers. Descriptors sent on default pipe can describe other endpoints.</li>
<li><strong>Descriptors</strong> form a hierarchy that you can view with tools like <code>lsusb</code>.</li>
<li><strong>Device descriptor</strong>: contains information like device Vendor ID (VID) and Product ID (PID)</li>
</ul>

<p>There are different transport types that can be used:</p>

<ul>
<li><strong>Interrupt transfers</strong> are for short periodic real-time data exchanges.</li>
<li><strong>Isochronous transfers</strong> are somewhat similar but less strict; they allow for larger data blocks and are used by web cameras and similar devices, where delays or even losses of a single frame are not crucial.</li>
<li><strong>Bulk transfers</strong> are for large amounts of data.</li>
<li><strong>Control transfer type</strong> is the only one that has a standardised request (and response) format, and is used to manage devices</li>
</ul>

<p><strong>Further reading:</strong></p>

<ul>
<li><a href="http://www.beyondlogic.org/usbnutshell">http://www.beyondlogic.org/usbnutshell</a></li>
<li><a href="https://www.linuxvoice.com/drive-it-yourself-usb-car-6/">https://www.linuxvoice.com/drive-it-yourself-usb-car-6/</a></li>
<li><a href="http://janaxelson.com/">Jan Axelson&#39;s USB Complete books</a></li>
</ul>

<h2><a name="usb-re-intro"></a>USB Reverse Engineering: An Introduction</h2>

<p>Now, I could probably go through and write a whole blog post on this.. but, other people have done it for me! The following walks through an introduction to interfacing with, reverse engineering, understanding, and ultimately implementing software to drive a USB remote control car.</p>

<ul>
<li><a href="https://www.linuxvoice.com/drive-it-yourself-usb-car-6/">https://www.linuxvoice.com/drive-it-yourself-usb-car-6/</a> (2015)</li>
<li><a href="https://github.com/vsinitsyn/usbcar.py">https://github.com/vsinitsyn/usbcar.py</a></li>
</ul>

<p>I found it quite easy to consume, and doesn&#39;t really assume much in the way of prior knowledge.</p>

<p>One of the tools used above was <a href="https://linux.die.net/man/8/lsusb"><code>lsusb</code></a>: &quot;a utility for displaying information about USB buses in the system and the devices connected to them&quot;. Among other things, this allows the <strong>vendor and product ID</strong> of the device to be identified. Once identified, this tag can be used to query further information about the device, eg. <code>lsusb -vd 0a81:0702</code>.</p>

<p><strong>Other relevant tools/concepts used include:</strong></p>

<ul>
<li><code>usbmon</code>: a facility in kernel which is
used to collect traces of I/O on the USB bus</li>
<li><a href="https://wiki.wireshark.org/CaptureSetup/USB">Wireshark USB Capture</a></li>
<li><a href="https://github.com/pyusb/pyusb">PyUSB</a> : USB access for Python</li>
<li><a href="https://github.com/libusb/libusb">libusb</a> : A cross-platform library to access USB devices</li>
</ul>

<h2><a name="usb-re-further-reading"></a>USB Reverse Engineering: Further Reading</h2>

<p>The following are some additional relatively short reads on how others have approached reverse engineering some devices, including tools they used, and basic methodologies.</p>

<p><a name="adafruit"></a>I would definitely suggest checking this one out first:</p>

<ul>
<li><a href="https://learn.adafruit.com/hacking-the-kinect">https://learn.adafruit.com/hacking-the-kinect</a> (2012, 2015?)</li>
</ul>

<p>By this stage you&#39;re probably not going to pick up masses of new information, but here are the rest for completeness, just in case:</p>

<ul>
<li><a href="https://github.com/openrazer/openrazer/wiki/Reverse-Engineering-USB-Protocol">https://github.com/openrazer/openrazer/wiki/Reverse-Engineering-USB-Protocol</a> (2017)</li>
<li><a href="https://www.linuxvoice.com/drive-it-yourself-usb-car-6/">https://www.linuxvoice.com/drive-it-yourself-usb-car-6/</a> (2015)</li>
<li><a href="https://www.mattcutts.com/blog/reverse-engineering-a-windows-usb-driver/">https://www.mattcutts.com/blog/reverse-engineering-a-windows-usb-driver/</a> (2013)</li>
<li><a href="https://hackaday.com/2009/08/20/reverse-engineering-usb-drivers/">https://hackaday.com/2009/08/20/reverse-engineering-usb-drivers/</a> (2009)

<ul>
<li><a href="http://www.jespersaur.com/drupal/book/export/html/21">http://www.jespersaur.com/drupal/book/export/html/21</a></li>
<li><a href="http://devdriven.com/2008/12/luxeed-led-keyboard-driver-for-linux/">http://devdriven.com/2008/12/luxeed-led-keyboard-driver-for-linux/</a></li>
<li><a href="https://github.com/kstephens/luxeed">https://github.com/kstephens/luxeed</a></li>
</ul></li>
</ul>

<p><strong>Some common tools/methods used in the above articles include:</strong></p>

<ul>
<li>Explore / Capture

<ul>
<li><code>lsusb -vv</code> (*nix) (<a href="https://linux.die.net/man/8/lsusb">ref</a>) / <code>system_profiler SPUSBDataType</code> (macOS) / <a href="http://www.nirsoft.net/utils/usb_devices_view.html">USBDeview</a> (Windows)</li>
<li><code>usbmon</code> / USBsnoop / SnoopyPro</li>
<li><a href="#hardware-commercial-beagleusb">Beagle480 / Beagle Data Center Software</a></li>
<li>Virtualbox / KVM / QEMU</li>
<li><a href="https://wiki.wireshark.org/CaptureSetup/USB">Wireshark</a></li>
</ul></li>
<li>Interact

<ul>
<li><a href="https://github.com/libusb/libusb">libusb</a> / libusb-win32</li>
<li><a href="https://github.com/pyusb/pyusb">PyUSB</a></li>
</ul></li>
</ul>

<p>The basic process seems to be:</p>

<ul>
<li>Setup to capture the device</li>
<li>Identify the Vendor ID and Product ID</li>
<li>Determine the device descriptors / endpoints</li>
<li>Capture USB traffic / attempt to decode commands</li>
<li>Make a driver / program to interact</li>
<li>Potentially fuzz for other commands (generally safer to do read only)</li>
</ul>

<p>Another method of reverse engineering could be to reverse the device driver itself, and understand the functionality/features from that. This takes a more &#39;traditional&#39; software reverse engineering approach to solving the problem.</p>

<p>If you want to be completely thorough, a hybrid approach may make the most sense (eg. analyse the traffic on from the device itself, then use the existing driver to help understand the data being sent back/forth and/or confirm you have captured all of the features)</p>

<h2><a name="software"></a>Software: Wireshark, usbmon, USBPcap, VirtualBox, etc</h2>

<p>So as we learned in the above articles, there are a number of &#39;software only&#39; methods we can use to capture/inspect USB traffic, with the main modern methods being:</p>

<ul>
<li><a href="https://wiki.wireshark.org/CaptureSetup/USB">WireShark</a></li>
<li><a href="http://desowin.org/usbpcap/">USBpcap</a> (<a href="https://github.com/desowin/usbpcap">GitHub</a>)</li>
<li><a href="https://www.kernel.org/doc/Documentation/usb/usbmon.txt">usbmon</a></li>
</ul>

<p>It is also possible to &#39;pass through&#39; USB devices with your favourite virtual machine software (VMware, Parallels, Virtualbox, KVM, QEMU, etc) to assist in capturing data, though I will leave that as an exercise to the reader to look up the specifics (some references are in the above walkthroughs).</p>

<p>There are also some older programs and methods that might still work but probably aren&#39;t ideal anymore, including:</p>

<ul>
<li><a href="https://github.com/wcooley/usbrevue">USBREVue</a>: USBREVue is a suite of tools for reverse-engineering USB devices.</li>
<li><a href="https://github.com/scanlime/vusb-analyzer">Virtual USB Analyzer</a> (<a href="http://vusb-analyzer.sourceforge.net/">old site</a>)</li>
<li><a href="http://web.archive.org/web/20010429043148/http://www.jps.net/koma/">USB Snoopy</a></li>
<li>usbsnoop (<a href="http://benoit.papillault.free.fr/usbsnoop/doc.en.php">1</a>, <a href="https://linuxtv.org/wiki/index.php/Usbsnoop">2</a>, <a href="https://sourceforge.net/projects/usbsnoop/">3</a>)</li>
<li><a href="https://linuxtv.org/wiki/index.php/Usbreplay">usbreplay</a></li>
<li><a href="https://web.archive.org/web/20151218000528/http://www.pcausa.com/Utilities/UsbSnoop/default.htm">SniffUSB</a></li>
<li><a href="https://www.hhdsoftware.com/usb-monitor">USB Monitor</a> (Windows)</li>
</ul>

<h2><a name="hardware-tldr"></a>Hardware: tl;dr</h2>

<p>Too many choices? Don&#39;t want to read through them all? A good bet is probably:</p>

<ul>
<li><strong>Hardware:</strong> <a href="#hardware-greatfet">GreatFET</a>, <a href="#hardware-facedancer-2">Facedancer 2.0</a>, <a href="#hardware-daisho">Daisho</a></li>
<li><strong>Commercial Hardware:</strong> <a href="#hardware-commercial-beagleusb">BeagleUSB</a></li>
</ul>

<h2><a name="hardware-usbsniffer"></a>Hardware: BeagleBoard-XM / USBSniffer (~2010-2013, ~$149+)</h2>

<p>Based on a <a href="https://www.elinux.org/BeagleBoard/GSoC/2010_Projects/USBSniffer">2010 GSoC BeagleBoard USB Sniffer</a>, this is an updated version of a <a href="http://beagleboard.org/beagleboard-xm">BeagleBoard-XM</a> based USB sniffer. It acts as a man-in-the-middle hardware proxy allowing USB traffic to be captured, and later viewed in Wireshark or similar.</p>

<ul>
<li><a href="https://blog.gimx.fr/a-beagleboard-xm-based-usb-sniffer/">https://blog.gimx.fr/a-beagleboard-xm-based-usb-sniffer/</a></li>
<li><a href="https://github.com/matlo/bb_usb_sniffer">https://github.com/matlo/bb_usb_sniffer</a></li>
<li><a href="https://www.elinux.org/BeagleBoard/GSoC/2010_Projects/USBSniffer">https://www.elinux.org/BeagleBoard/GSoC/2010_Projects/USBSniffer</a></li>
<li><a href="https://hackaday.com/2013/07/02/usb-sniffing-with-the-beagleboard-xm/">https://hackaday.com/2013/07/02/usb-sniffing-with-the-beagleboard-xm/</a></li>
</ul>

<h2><a name="hardware-openvizsla"></a>Hardware: OpenVizsla (~2010-2014)</h2>

<p>(You probably just want to look at <a href="hardware-daisho">daisho</a> below)</p>

<blockquote>
<p>OpenVizsla is a Open Hardware FPGA-based USB analyzer. Unlike other similar devices on the market, hardware design files are available as well as full source code for the firmware and client software of the device.</p>
</blockquote>

<p>This was a <a href="https://www.kickstarter.com/projects/bushing/openvizsla-open-source-usb-protocol-analyzer">Kickstarter Project</a> to create an &quot;Open Hardware FPGA-based USB analyzer&quot; targeting <strong>USB 2.0 High-Speed</strong>. There seems to be a lot of mixed opinions/views about this project on the internet/forums calling scam and similar. It sounds like there were a lot of delays and other issues.</p>

<p>According to <a href="http://debugmo.de/2014/05/ov3-hardware/">this blog post</a>, it sounds like they eventually got something working (years later) under the moniker &#39;OV3&#39;. There seem to be a number of related posts on this blog <a href="http://debugmo.de/tags/OpenVizsla/">under the tag &#39;OpenVizsla&#39;</a>:</p>

<ul>
<li><a href="http://debugmo.de/2014/05/ov3-hardware/">http://debugmo.de/2014/05/ov3-hardware/</a></li>
<li><a href="http://debugmo.de/2014/08/ov3-fpga-design/">http://debugmo.de/2014/08/ov3-fpga-design/</a></li>
<li><a href="http://debugmo.de/2014/09/ov3-fpga-helloworld/">http://debugmo.de/2014/09/ov3-fpga-helloworld/</a></li>
</ul>

<p>You should be able to find the latest news and code on the following website/GitHub pages:</p>

<ul>
<li><a href="http://openvizsla.org/">http://openvizsla.org/</a></li>
<li><a href="https://github.com/openvizsla/ov_ftdi">https://github.com/openvizsla/ov_ftdi</a></li>
<li><a href="https://twitter.com/openvizsla">https://twitter.com/openvizsla</a> (no tweets)</li>
<li><a href="https://twitter.com/hashtag/openvizsla">https://twitter.com/hashtag/openvizsla</a> (no activity since 2010)</li>
<li><a href="https://www.kickstarter.com/projects/bushing/openvizsla-open-source-usb-protocol-analyzer/updates">https://www.kickstarter.com/projects/bushing/openvizsla-open-source-usb-protocol-analyzer/updates</a></li>
</ul>

<h2><a name="hardware-serialusb"></a>Hardware: SerialUSB / GIMX USB Adapter (~2015, ~US$5-35)</h2>

<blockquote>
<p>A cheap USB proxy for input devices.</p>
</blockquote>

<p>SerialUSB is at the low end of hardware capture devices, designed to be a low cost solution to assist in adding support for USB gaming peripheral protocols to the <a href="http://blog.gimx.fr/">GIMX</a> project.</p>

<ul>
<li><a href="http://blog.gimx.fr/serialusb/">http://blog.gimx.fr/serialusb/</a></li>
<li><a href="https://github.com/matlo/serialusb">https://github.com/matlo/serialusb</a> (~US$5)</li>
<li><a href="https://blog.gimx.fr/product/gimx-adapter/">https://blog.gimx.fr/product/gimx-adapter/</a> (~US$35)</li>
<li><a href="http://gimx.fr/wiki/index.php?title=DIY_USB_adapter">http://gimx.fr/wiki/index.php?title=DIY_USB_adapter</a></li>
<li><a href="https://hackaday.com/2015/12/23/usb-proxy-rats-out-your-devices-secrets/">https://hackaday.com/2015/12/23/usb-proxy-rats-out-your-devices-secrets/</a></li>
</ul>

<p>For most purposes we probably won&#39;t need hardware for things at this level.. the software-based capture devices are likely good enough. But who knows.. maybe there are other uses for super cheap hardware capture..</p>

<h2><a name="hardware-goodfet"></a>Hardware: GoodFET (~2009-2018+, ~US$50)</h2>

<p>(Before I dive in too deeply.. if you want the latest/greatest in this space, check out the <a href="#hardware-greatfet">GreatFET</a>.)</p>

<blockquote>
<p>The GoodFET is an open-source JTAG adapter, loosely based upon the TI MSP430 FET UIF and EZ430U boards, as described in their documentation. In addition to JTAG, the GoodFET has been <strong>inspired by HackADay&#39;s Bus Pirate to become a universal serial bus interface.</strong></p>
</blockquote>

<p>It &quot;is a nifty little tool for quickly exposing embedded system buses to userland Python code.&quot;. Based on the bits and pieces I can pull together, I believe this will allow us to do our typical hardware based sniffing/dumping/etc, but I would have to find a better walkthrough/try it myself before being able to say that for certain.</p>

<p>Now one thing about this project that tends to confuse me is the versions/revision naming.. for example here are a number of the older revisions and their names:</p>

<ul>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet10/">http://goodfet.sourceforge.net/hardware/goodfet10/</a> (rev 1, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet11/">http://goodfet.sourceforge.net/hardware/goodfet11/</a> (rev 2, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet20/">http://goodfet.sourceforge.net/hardware/goodfet20/</a> (rev 3, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/badfet20/">http://goodfet.sourceforge.net/hardware/badfet20/</a> (rev 4, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet30/">http://goodfet.sourceforge.net/hardware/goodfet30/</a> (rev 5, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet21/">http://goodfet.sourceforge.net/hardware/goodfet21/</a> (rev 6, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet31/">http://goodfet.sourceforge.net/hardware/goodfet31/</a> (rev 8, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet40/">http://goodfet.sourceforge.net/hardware/goodfet40/</a> (rev 12, retired)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet41/">http://goodfet.sourceforge.net/hardware/goodfet41/</a> (rev 13, retired)</li>
</ul>

<p>As best I can tell.. there seem to be multiple parallel hardware versions at certain times.. based on different chipsets. And those versions may fork/merge at later times. Attempting to follow that logic.. the two most current (non-retired) revisions seem to be:</p>

<ul>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet42/">http://goodfet.sourceforge.net/hardware/goodfet42/</a> (rev 22)</li>
<li><a href="http://goodfet.sourceforge.net/hardware/goodfet32/">http://goodfet.sourceforge.net/hardware/goodfet32/</a> (rev 25)</li>
</ul>

<p>You should probably just spend time browsing around this site in general.. there are so many interesting sounding open-hardware designs.</p>

<ul>
<li><a href="http://goodfet.sourceforge.net/">http://goodfet.sourceforge.net/</a></li>
<li><a href="https://github.com/travisgoodspeed/goodfet">https://github.com/travisgoodspeed/goodfet</a></li>
<li><a href="https://github.com/travisgoodspeed/goodfet/tree/master/contrib">https://github.com/travisgoodspeed/goodfet/tree/master/contrib</a></li>
</ul>

<p>You can order the boards (or request a free one!) from:</p>

<ul>
<li><a href="http://goodfet.sourceforge.net/orders/">http://goodfet.sourceforge.net/orders/</a></li>
<li><a href="https://www.adafruit.com/product/1279">https://www.adafruit.com/product/1279</a> (~US$50)</li>
<li><a href="http://www.riverloopsecurity.com/projects/goodfet/">http://www.riverloopsecurity.com/projects/goodfet/</a></li>
</ul>

<p>Further reading:</p>

<ul>
<li><a href="https://exfil.co/2016/02/11/goodfet-on-os-x/">https://exfil.co/2016/02/11/goodfet-on-os-x/</a></li>
<li><a href="https://hackaday.com/tag/goodfet/">https://hackaday.com/tag/goodfet/</a></li>
</ul>

<h2><a name="hardware-facedancer"></a>Hardware: Facedancer, Beagledancer, Raspdancer (~2012-2018+, ~US$85-???)</h2>

<p>(Make sure to look at the <a href="hardware-facedancer-2">facedancer 2.0</a> below as well)</p>

<blockquote>
<p>The Facedancer21 is the twenty-fourth hardware revision of the GoodFET, owing its heritage to the GoodFET41 and Facedancer20. Unlike the general-purpose GoodFET boards, <strong>the only purpose of this board is to allow USB devices to be written in host-side Python</strong>, so that one workstation can fuzz-test the USB device drivers of another host.</p>
</blockquote>

<p>The facedancer is less about capturing data, and more about emulating a USB device with software (python to be exact!). One reason for wanting to do this might be to fuzz the devices drivers on a host system, though I&#39;m sure there could be a number of other creative uses too.. Maybe you want to allow one hardware device to masquerade as another and talk to it&#39;s drivers..</p>

<p>The following articles are a good read:</p>

<ul>
<li><a href="http://travisgoodspeed.blogspot.com.au/2012/07/emulating-usb-devices-with-python.html">http://travisgoodspeed.blogspot.com.au/2012/07/emulating-usb-devices-with-python.html</a></li>
<li><a href="http://travisgoodspeed.blogspot.com.au/2012/10/emulating-usb-dfu-to-capture-firmware.html">http://travisgoodspeed.blogspot.com.au/2012/10/emulating-usb-dfu-to-capture-firmware.html</a></li>
<li><a href="http://rmspeers.com/archives/252">Scapy Support for USB Protocol on Facedancer Boards, MAX2420, etc</a></li>
</ul>

<blockquote>
<p>The Facedancer hardware extends the GoodFET framework to allow for fast prototyping and fuzzing of USB device drivers. Software connect/disconnect allows the enumeration process to be repeated, and Ryan&#39;s fork allows for clean coding of the various data structures with Scapy.</p>
</blockquote>

<p>You can find out more about the facedancer boards at:</p>

<ul>
<li><a href="http://goodfet.sourceforge.net/hardware/facedancer21">http://goodfet.sourceforge.net/hardware/facedancer21</a></li>
<li>YouTube: <a href="https://www.youtube.com/watch?v=x-7ezoFju6I">SEC-T 2012 - Trashing USB layers using the Facedancer Board - Travis Goodspeed</a> (2013)</li>
<li><a href="http://rmspeers.com/archives/252">http://rmspeers.com/archives/252</a></li>
</ul>

<p>You can order the board (or request a free one!) from:</p>

<ul>
<li><a href="http://goodfet.sourceforge.net/orders/">http://goodfet.sourceforge.net/orders/</a></li>
<li><a href="https://int3.cc/products/facedancer21">https://int3.cc/products/facedancer21</a> (~US$85)</li>
</ul>

<p>Other hardware projects that connect with the facedancer:</p>

<ul>
<li><a href="https://github.com/dominicgs/BeagleDancer">https://github.com/dominicgs/BeagleDancer</a> : A Facedancer21 expansion board for the BeagleBone</li>
<li><a href="http://wiki.yobi.be/wiki/Raspdancer">http://wiki.yobi.be/wiki/Raspdancer</a> : Merging Facedancer11 and Facedancer21 with Raspberry Pi</li>
<li><a href="https://speakerdeck.com/doegox/raspdancer">https://speakerdeck.com/doegox/raspdancer</a></li>
<li><a href="https://github.com/travisgoodspeed/goodfet/tree/master/contrib/facedancer/raspdancer">https://github.com/travisgoodspeed/goodfet/tree/master/contrib/facedancer/raspdancer</a></li>
</ul>

<h2><a name="hardware-usbproxy"></a>Hardware: Beaglebone Black + USBProxy (~2013?)</h2>

<p>(This has been superceded by the <a href="hardware-facedancer-2">facedancer 2.0</a> below)</p>

<blockquote>
<p>A proxy for USB devices, libUSB and gadgetFS. A USB man in the middle device using embedded Linux devices with on the go controllers.</p>
</blockquote>

<ul>
<li><a href="https://github.com/dominicgs/USBProxy">https://github.com/dominicgs/USBProxy</a></li>
</ul>

<p>Presentations/etc:</p>

<ul>
<li>YouTube: <a href="https://www.youtube.com/watch?v=uDPxa5tcdnI">NSA Playset: USB Tools [ShmooCon 2015]</a> (2015) (<a href="https://shmoo.gitbooks.io/2015-shmoocon-proceedings/content/build/01_nsa_playset_usb_tools.html">Overview</a>, <a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2015/NSA%20Playset-USB%20Tools-ShmooCon.pdf">Slides</a>)</li>
<li>YouTube: <a href="https://www.youtube.com/watch?v=rcfYgU-Be08">BG - USB Write Blocking with USBProxy - Dominic Spill
</a> (2014) (<a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2014/Spill_BSidesLV_USBProxy_slides.pdf">Slides</a>)</li>
<li>Youtube (<a href="https://www.youtube.com/watch?v=5JnAeakUBnU">1</a>, <a href="https://www.youtube.com/watch?v=l9wnu97785s">2</a>): ShmooCon 2014: An Open and Affordable USB Man in the Middle Device (2014) (<a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2014/Spill_USBProxy_ShmooCon_Slides.pdf">Slides</a>, <a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2014/Spill_USBProxy_ShmooCon_paper.pdf">Whitepaper</a>, <a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2014/Spill_USBProxy_ShmooCon_cfp.txt">CFP</a>)</li>
<li>CFP: <a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2014/Spill_USBProxy_Haxpo_cfp.txt">Haxpo - Protecting USB devices with USBProxy</a></li>
</ul>

<h2><a name="hardware-daisho"></a>Hardware: Daisho (~2013-?2018+?)</h2>

<blockquote>
<p>SuperSpeed USB 3.0 FPGA platform</p>
</blockquote>

<p>This is a project designed for monitoring a number of high speed communication technologies at the physical layer, including USB 3.0, Gigabit ethernet, HDMI, etc. You can read more about it in the introduction blog:</p>

<ul>
<li><a href="http://ossmann.blogspot.com.au/2013/05/introducing-daisho.html">http://ossmann.blogspot.com.au/2013/05/introducing-daisho.html</a> (tag: <a href="http://ossmann.blogspot.com.au/search/label/daisho">daisho</a>)</li>
</ul>

<p>You can find more about the project at the following sites:</p>

<ul>
<li><a href="https://greatscottgadgets.com/daisho/">https://greatscottgadgets.com/daisho/</a></li>
<li><a href="https://github.com/mossmann/daisho">https://github.com/mossmann/daisho</a></li>
<li><a href="https://github.com/mossmann/daisho/wiki">https://github.com/mossmann/daisho/wiki</a></li>
<li><a href="https://github.com/enjoy-digital/daisho_usb3ipcore_test">https://github.com/enjoy-digital/daisho_usb3ipcore_test</a></li>
</ul>

<p>Presentations/etc:</p>

<ul>
<li>YouTube: <a href="https://www.youtube.com/watch?v=uDPxa5tcdnI">NSA Playset: USB Tools [ShmooCon 2015]</a> (2015) (<a href="https://shmoo.gitbooks.io/2015-shmoocon-proceedings/content/build/01_nsa_playset_usb_tools.html">Overview</a>, <a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2015/NSA%20Playset-USB%20Tools-ShmooCon.pdf">Slides</a>)</li>
<li>YouTube: <a href="https://www.youtube.com/watch?v=b2DsU1O6Lhg">Black Hat USA 2013 - What&#39;s on the Wire? Physical Layer Tapping with Project Daisho
</a> (2013) (<a href="https://media.blackhat.com/us-13/US-13-Spill-Whats-on-the-Wire-Slides.pdf">Slides</a>, <a href="https://media.blackhat.com/us-13/US-13-Spill-Whats-on-the-Wire-WP.pdf">Whitepaper</a>)</li>
</ul>

<h2><a name="hardware-greatfet"></a>Hardware: GreatFET (~2015-2018+)</h2>

<blockquote>
<p>GreatFET is a next generation GoodFET intended to serve as your custom Hi-Speed USB peripheral through the addition of expansion boards called &quot;neighbors&quot;.</p>
</blockquote>

<p>Better GoodFET hardware, cheaper. Sounds great to me. According to the main site this is still at a &#39;functional prototype&#39; stage though:</p>

<blockquote>
<p>Functional prototype hardware has been produced. Firmware is in progress.</p>
</blockquote>

<p>That said.. looking around twitter and other places.. it sounds like it&#39;s pretty functional. Here are your main resources:</p>

<ul>
<li><a href="http://greatscottgadgets.com/greatfet/">http://greatscottgadgets.com/greatfet/</a></li>
<li><a href="https://github.com/greatscottgadgets/greatfet">https://github.com/greatscottgadgets/greatfet</a></li>
<li><a href="https://github.com/greatscottgadgets/greatfet-hardware">https://github.com/greatscottgadgets/greatfet-hardware</a></li>
<li><a href="https://github.com/greatscottgadgets/greatfet/wiki">https://github.com/greatscottgadgets/greatfet/wiki</a></li>
<li><a href="https://github.com/greatscottgadgets/greatfet/wiki/GreatFET-One">https://github.com/greatscottgadgets/greatfet/wiki/GreatFET-One</a></li>
</ul>

<p>I couldn&#39;t find many resources about how to buy these.. but here is what I got:</p>

<ul>
<li><a href="https://oshpark.com/shared_projects/qZFKUiwj">https://oshpark.com/shared_projects/qZFKUiwj</a></li>
</ul>

<p>Presentations/etc:</p>

<ul>
<li>YouTube: <a href="https://www.youtube.com/watch?v=h3VWvZ162QE">TR18 - Reverse Engineering Black Box Systems with GreatFET</a> (2018) (<a href="https://download.ernw-insight.de/troopers/tr18/slides/TR18_AR_RE-Black-Box-Systems-GreatFET-Facedancer.pdf">Slides</a>, <a href="https://www.troopers.de/troopers18/agenda/bcgyzl/">Agenda</a>)</li>
<li>YouTube: <a href="https://www.youtube.com/watch?v=4Ra9XNjNS3M">TR17 - Rusting up your GREATFET - Richo Healey, Dominic Spill</a> (2017) (<a href="https://speakerdeck.com/richo/rust-greatfet">Slides</a>)</li>
<li>YouTube: <a href="https://www.youtube.com/watch?v=4NIoAnsuFOQ">GreatFET: Making GoodFET Great Again</a> (2016) (<a href="https://www.blackhat.com/docs/us-16/materials/us-16-Ossmann-GreatFET-Making-GoodFET-Great-Again-wp.pdf">Slides</a>)</li>
</ul>

<p>Further reading:</p>

<ul>
<li><a href="https://hackaday.com/tag/greatfet/">https://hackaday.com/tag/greatfet/</a></li>
<li><a href="https://twitter.com/search?q=%23GreatFET&lang=en">https://twitter.com/search?q=%23GreatFET&amp;lang=en</a></li>
</ul>

<h2><a name="hardware-facedancer-2"></a>Hardware: Facedancer 2.0 (~2017-2018+)</h2>

<blockquote>
<p>This repository houses the next generation of FaceDancer software. Descended from the original GoodFET-based FaceDancer, this repository provides a python module that provides expanded FaceDancer support-- including support for multiple boards and some pretty significant new features.</p>
</blockquote>

<p>This is the v2.x of the facedancer, designed to be better/greater. I won&#39;t go too deeply into things, but the following are useful resources:</p>

<ul>
<li><a href="https://github.com/ktemkin/facedancer">https://github.com/ktemkin/facedancer</a></li>
<li><a href="https://github.com/ktemkin/facedancer#usbproxy-nouveau-and-protocol-analysis">https://github.com/ktemkin/facedancer#usbproxy-nouveau-and-protocol-analysis</a>

<ul>
<li>Replaces <a href="#hardware-usbproxy">USBProxy</a></li>
</ul></li>
</ul>

<p>Presentations/Training/etc:</p>

<ul>
<li>YouTube: <a href="https://www.youtube.com/watch?v=L3Ug9591Vag&list=PLnOI9rJWBVjE_xz7uGH4QKLiU5X0A7fjv&index=143">FaceDancer 2.0 (SHA2017)</a> (2017) (<a href="http://dominicspill.com/presentations/2017/Temkin_Spill_FaceDancer2_slides.pdf">Slides</a>, <a href="https://github.com/dominicgs/dominicgs.github.io/blob/master/presentations/2017/Temkin_Spill_FaceDancer2_slides.pdf">Slides2</a>, <a href="https://twitter.com/dominicgs/status/895341394730123265">Twitter</a>)</li>
<li>YouTube: <a href="https://www.youtube.com/watch?v=HV9WfDRjJCg">ToorCon 19 - Spill &amp; Temkin - Facedancer 2.0 Next Generation USB Hacking</a> (2017) (jump to <a href="https://youtu.be/HV9WfDRjJCg?t=2116">35:16</a>)</li>
<li><a href="https://www.troopers.de/troopers18/trainings/jmpsxq/">Troopers Training: Hacking the USB World with FaceDancer</a> (<a href="https://hm-ts.de/pdf/TR18_HM_Hack_Facedancer.pdf">PDF</a>, 2018)</li>
</ul>

<h2><a name="hardware-commercial-beagleusb"></a>Commercial Hardware: TotalPhase BeagleUSB</h2>

<p><a href="https://www.totalphase.com/">TotalPhase</a> are a company that provide a number of commercial hardware protocol analysers, <a href="https://www.totalphase.com/protocols/usb/">including USB</a>. I found that a number of the walkthroughs I would come across would at least mention these products in passing.</p>

<p>As I understand it, <strong>they are only good for passively reading/inspecting/logging the traffic, so no good if you want to do injection or other nefarious things.</strong></p>

<p>They have a number of different products ranging from the relatively cheap (for low speed), up to the rather expensive (for USB 3.0):</p>

<ul>
<li><a href="https://www.totalphase.com/products/beagle-usb12/">Beagle USB 12 Protocol Analyzer</a>: Low/Full Speed USB 2, ~US$475 (<a href="https://www.totalphase.com/support/articles/200800983-Beagle-USB-12-Protocol-Analyzer-Quick-Start-Guide">Guide</a>, <a href="https://www.adafruit.com/product/708">Adafruit</a>)</li>
<li><a href="https://www.totalphase.com/products/beagle-usb480/">Beagle USB 480 Protocol Analyzer</a>: Low/Full/High Speed USB 2, ~US$1400</li>
<li><a href="https://www.totalphase.com/products/beagle-usb5000-v2-standard/">Beagle USB 5000 v2 SuperSpeed Protocol Analyzer - Standard Edition</a>: USB 3.0, ~US$3600</li>
<li><a href="https://www.totalphase.com/products/beagle-usb5000-v2-ultimate/">Beagle USB 5000 v2 SuperSpeed Protocol Analyzer - Ultimate Edition</a>: USB 2/3.0, ~US$6000</li>
</ul>

<h2><a name="further-reading-presentations"></a>Further Reading/Presentations</h2>

<p>I figured I&#39;d add this section for some other interesting presentations/resources that just didn&#39;t seem to fit nicely into the categories above. Some of them go a little beyond just USB hardware hacking, and into more general/specific hardware hacking tools:</p>

<ul>
<li>YouTube: <a href="https://www.youtube.com/watch?v=7HnQnpJwr-c">DEF CON 22 - Jesse Michael and Mickey Shkatov - USB for all!!</a> (2014) (<a href="https://www.defcon.org/images/defcon-22/dc-22-presentations/Michael-Shkatov/DEFCON-22-Jesse-Michael-Mickey-Shkatov-USB-for-All!!-UPDATED.pdf">Slides</a>)</li>
<li>YouTube: <a href="https://www.youtube.com/watch?v=PYeYxQqBTLo">Tools of the Hardware Hacking Trade - Duo Tech Talk
</a> (2014) (<a href="https://www.blackhat.com/docs/webcast/04232014-tools-of-the-hardware-hacking-trade.pdf">Slides</a>)</li>
</ul>

<h2><a name="people-to-watch"></a>People to Watch</h2>

<p>While I was doing this research there were a few names that just kept popping up time and time again, and seem to be working on really cool things in this space. To make it easier to follow them on their relevent platforms, I wanted to collect them together here for you (in no particular order):</p>

<ul>
<li>Travis Goodspeed (travisgoodspeed, <a href="https://twitter.com/travisgoodspeed">Twitter</a>, <a href="https://github.com/travisgoodspeed">GitHub</a>)</li>
<li>Dominic Spill (dominicgs, <a href="https://twitter.com/dominicgs/">Twitter</a>, <a href="https://github.com/dominicgs/">GitHub</a>, <a href="https://dominicspill.com/">Website</a>)</li>
<li>Kate Temkin (ktemkin, <a href="https://twitter.com/ktemkin/">Twitter</a>, <a href="https://github.com/ktemkin/">GitHub</a>, <a href="https://www.ktemkin.com/">Website</a>)</li>
<li>Michael Ossmann (mossmann, <a href="https://twitter.com/michaelossmann">Twitter</a>, <a href="https://github.com/mossmann">GitHub</a>, <a href="http://www.ossmann.com/">Website</a>)</li>
<li>Great Scott Gadgets (<a href="https://twitter.com/GSGLabs">Twitter</a>, <a href="https://github.com/greatscottgadgets">GitHub</a>, <a href="http://greatscottgadgets.com/">Website</a>)</li>
</ul>

<p>If I&#39;ve missed anyone that you feel deserves to be here too, please let me know!</p>

<h2><a name="code-drivers-etc"></a>Code/Drivers/etc</h2>

<p>So we know how to capture traffic from our devices, proxy it with hardware, break the protocols down and understand them. But we also want to be able to talk back to them, control them, and truly interact. This is where code and drivers comes in. Now we&#39;ve sort of skimmed over these topics in a few of the above sections, but for the sake of clarity I wanted to group them all here as well.</p>

<p><a name="libusb-pyusb"></a>When I first thought about writing this section I thought we were going to be getting deep into kernel drivers, and fighting with arcane systems, but it seems we actually have a much nicer alternative before all of that, thanks to <strong>libusb, pyusb, and friends</strong>:</p>

<ul>
<li><a href="http://libusb.info/">http://libusb.info/</a> (<a href="https://github.com/libusb/libusb">GitHub</a>) : A cross-platform library to access USB devices</li>
<li><a href="https://github.com/pyusb/pyusb">https://github.com/pyusb/pyusb</a> : USB access for Python</li>
<li><a href="https://github.com/LibUsbDotNet/LibUsbDotNet">https://github.com/LibUsbDotNet/LibUsbDotNet</a> : Library for cross-platform USB device control using Mono/.NET</li>
</ul>

<p>You can see examples of using libusb/pyUSB in some of the walkthroughs mentioned earlier.</p>

<p>Now while these libraries give us a whole lot of power and makes it pretty easy to write our software, there may be times where they just don&#39;t quite cover what we need. That&#39;s when we can go deeper into the weird and wonderful world of driver development. I won&#39;t cover this too in-depth at the moment as it could be a whole blog series on it&#39;s own, but a few resources to get you started:</p>

<ul>
<li><a href="https://github.com/daynix/UsbDk">https://github.com/daynix/UsbDk</a> : Usb Drivers Development Kit for Windows</li>
<li><a href="http://www.fourwalledcubicle.com/LUFA.php">LUFA (Lightweight USB Framework for AVRs)</a> (<a href="https://github.com/abcminiuser/lufa">GitHub</a>)</li>
<li><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/content/index">Windows Driver Kit (WDK)</a></li>
<li><a href="https://github.com/pravic/winapi-kmd-rs">https://github.com/pravic/winapi-kmd-rs</a> : Windows Kernel-Mode Drivers written in Rust</li>
<li><a href="http://www.linuxvoice.com/be-a-kernel-hacker/">http://www.linuxvoice.com/be-a-kernel-hacker/</a></li>
</ul>

<h2><a name="where-next"></a>Where next? Device Emulation, USB over IP, etc</h2>

<p>Now that you&#39;ve figured out all of the intricacies of the device, understand it&#39;s protocol and wrote some software (or even a driver) to interface with it.. what about the other side of things?</p>

<ul>
<li>Can we emulate the device in software (for testing, or other purposes)</li>
<li>Can we take the information from that device and stream it somewhere remotely?</li>
<li>Can we make a new hardware device that &#39;presents itself&#39; as the device we just looked at? (eg. to interface with existing drivers/software)</li>
</ul>

<p>This is where device emulation and USB over IP can come to the party. I haven&#39;t dug too deeply into this topic, but a well placed Google search or two (<code>github usb over ip</code>, <code>github usb emulation</code>) turned up some interesting looking resources (and I&#39;m sure there are far more out there..):</p>

<ul>
<li><a href="https://github.com/forensix/libusbip">forensix/libusbip</a> : USB over IP</li>
<li><a href="https://github.com/vavrusa/libusbnet">vavrusa/libusbnet</a> :
libusb wrapper to enable communication with USB devices over TCP/IP</li>
<li><a href="https://github.com/Frazew/PythonUSBIP">Frazew/PythonUSBIP</a> : USBIP protocol fully implemented in python + Full wiimote support using cwiid</li>
<li><a href="https://github.com/lcgamboa/USBIP-Virtual-USB-Device">lcgamboa/USBIP-Virtual-USB-Device</a> :
Emulates USB Devices using USBIP in Python or c</li>
<li><a href="https://github.com/Microsoft/UDE">Microsoft/UDE</a> : USB Device Emulation Samples</li>
<li><a href="https://github.com/EngineerTony/Arduino_USBKeyboard_Hacker">EngineerTony/Arduino<em>USBKeyboard</em>Hacker</a> : Uses the Arduino Uno microcontroller to emulate a USB keyboard and insert random text into the computer at random intervals</li>
<li><a href="https://github.com/ViGEm/ViGEmBus">ViGEm/ViGEmBus</a> : Windows kernel-mode driver emulating well-known USB game controllers</li>
</ul>

<p>Also, don&#39;t forget those hardware devices mentioned above that are designed for emulation..</p>

<p>Definitely an area that could be interesting to explore deeper, maybe in a future project/post.</p>

<h2><a name="iot-hardware-hacking-fuzzing-etc"></a>IoT, Hardware Hacking, Fuzzing, etc</h2>

<p>Once we understand the language these devices speak, how to listen to it, how to emulate it.. what&#39;s next? One idea is to apply the concept of fuzzing used in the software world (random/crafted data used to look for crashes in software), and turn it to hardware. And with the prevalence of IoT devices out there now (often with woeful security).. this could be another interesting rabbithole to explore (google: <code>usb hardware fuzzing</code>):</p>

<ul>
<li><a href="https://blog.quarkslab.com/usb-fuzzing-basics-from-fuzzing-to-bug-reporting.html">https://blog.quarkslab.com/usb-fuzzing-basics-from-fuzzing-to-bug-reporting.html</a> (2014)</li>
<li><a href="https://github.com/nccgroup/umap">https://github.com/nccgroup/umap</a> : The USB host security assessment tool (~2013)</li>
<li><a href="https://github.com/nccgroup/FrisbeeLite">nccgroup/FrisbeeLite</a> : A GUI-based USB device fuzzer

<ul>
<li><a href="https://www.nccgroup.trust/au/our-research/fuzzing-usb-devices-using-frisbee-lite/">https://www.nccgroup.trust/au/our-research/fuzzing-usb-devices-using-frisbee-lite/</a> (2013)</li>
</ul></li>
<li><a href="https://github.com/ollseg/usb-device-fuzzing">ollseg/usb-device-fuzzing</a> :
Some tools for testing USB devices (2012)</li>
<li><a href="https://labs.mwrinfosecurity.com/blog/usb-fuzzing-for-the-masses/">https://labs.mwrinfosecurity.com/blog/usb-fuzzing-for-the-masses/</a> (2011)</li>
<li><a href="https://wikileaks.org/hbgary-emails//fileid/64995/17596">https://wikileaks.org/hbgary-emails//fileid/64995/17596</a> : USB Protocol Fuzzer Options (2009)</li>
<li><a href="https://www.beyondsecurity.com/bestorm.html">https://www.beyondsecurity.com/bestorm.html</a> (commercial)

<ul>
<li><a href="https://www.beyondsecurity.com/bestorm_usb_case_study.html">https://www.beyondsecurity.com/bestorm_usb_case_study.html</a></li>
</ul></li>
</ul>

<h2><a name="link-dump"></a>Link Dump</h2>

<p>After all of that.. there is only one little link left in my linkdump, and from memory, I think it was the one that started this cascading flow of rabbitholes. Not really anything to see here that we haven&#39;t already covered, but for posterity:</p>

<ul>
<li><a href="https://electronics.stackexchange.com/questions/4180/reverse-engineering-usb-signals">https://electronics.stackexchange.com/questions/4180/reverse-engineering-usb-signals</a></li>
</ul>

<h2><a name="conclusion"></a>Conclusion</h2>

<p>Well.. that got longer than I expected! What originally started out as me wanting to dump a few links I was collecting as I read into this subject, <strong>we seem to have ended up with a rough reference guide to getting started on AllTheThings(tm) relating to USB reverse engineering and associated hardware hacking.</strong></p>

<p>While this post by itself isn&#39;t going to give you all the answers, hopefully it&#39;s given you enough of a base that you can branch out and dig deeper into the aspects that interest you. And when you do, let me know what you build/break/discover!</p>

<p>Was there something I missed? A new shiny piece of hardware? An amazing program? Maybe you have some awesome techniques to share? Or just a story about what you&#39;ve been able to do with this newfound knowledge? I&#39;d love to hear from you in the comments below!</p>

	  ]]></description>
	</item>

	<item>
	  <title>Imagine a world..</title>
	  <link>/devalias/2018/04/20/imagine-a-world/</link>
	  <author>devalias</author>
	  <pubDate>2018-04-20T00:00:00+10:00</pubDate>
	  <guid>/devalias/2018/04/20/imagine-a-world/</guid>
	  <description><![CDATA[
	     <p>Imagine a world driven by the strive for progress, improvement and innovation, rather than fuelled by corporate greed. Ideas and breakthroughs are shared freely and openly. Where instead of multiple separate entities having to expend the same effort to unlock the same benefits time and time again, locking them away inside their own corporate silos to ration out to the masses at overly inflated costs; we co-create that benefit, shared freely, and greatly accelerate the pace of innovation for everyone.</p>

<p>Imagine a world where instead of relying on these isolated silos of knowledge, portioned out by &#39;experts&#39; (and never knowing just how up to date/valid that ‘expert’ information actually is), those same experts are plugged into the latest and greatest, and become the interface that guides and helps integrate that global wealth of knowledge. Where the ego and closed minded attitudes stemming from ‘having studied this content and dedicated a large portion of their life to it&#39; melt away, in favour of the best possible information, actions, and outcomes.</p>

<p>Imagine a world where new breakthrough technologies and therapies are widely available, because they aren’t limited by copyright or proprietary knowledge. How quickly those things could spread, and how many more people would have access to them. Not just those that can afford the current greed-subsidised availability, but anyone, regardless of their situation or wealth.</p>

<p>In a world so rich with data, yet so poor in signal buried away among the endless noise. Imagine a world where you&#39;re able to filter all of that irrelevance away. Focussing only on what truly matters for you, in that moment, but knowing you can trust in the systems enough that you won’t be missing something relevant or important. Systems that enhance our interactions and experiences, rather than vying to control and capture our attention so it can be monetised.</p>

<p>This is the world I strive for. This is my future. I may be just one small cog in this global societal machine, but each step we take towards this future enables it’s momentum to grow. Empowering new builders, thinkers and makers with the tools and knowledge to step just a little further, reach a little higher.</p>

<p>What are your gifts? Your passions? How can you leverage these to move things forward? What can you share? Let’s build this future together.</p>

	  ]]></description>
	</item>

	<item>
	  <title>DIY Light Therapy (Red/Near Infrared, Cold/Low Level Laser, Blue/UV, etc)</title>
	  <link>/devalias/2018/04/07/diy-light-therapy-red-infrared-cold-laser-lllt-blue-uv/</link>
	  <author>devalias</author>
	  <pubDate>2018-04-07T00:00:00+10:00</pubDate>
	  <guid>/devalias/2018/04/07/diy-light-therapy-red-infrared-cold-laser-lllt-blue-uv/</guid>
	  <description><![CDATA[
	     <p>I tend to dive down rabbit holes a lot, and given the cost of context switching and memory deteriorating over time, sometimes the state I build up in my mind gets lost between the chances I get to dive in. These &#39;linkdump&#39; posts are an attempt to collate at least some of that state in a way that I can hopefully restore to my brain at a later point.</p>

<p>This time around I was inspired to look into Red/Infrared light therapy, originally motivated by some Bulletproof blog posts/talk (<a href="https://blog.bulletproof.com/health-benefits-red-light-therapy/">1</a>, <a href="https://blog.bulletproof.com/light-hacking-for-better-energy-mood-and-performance/">2</a>, <a href="https://blog.bulletproof.com/tag/light-hacking/">etc</a>), and the cost of the <a href="https://joovv.com/products/joovv-light?variant=39356431502">Joovv</a> light panels. Let&#39;s dig in!</p>

<h2>Joovv</h2>

<p><a href="https://joovv.com/">Joovv</a> is one of those hip health/wellness brands making red/infrared light therapy devices. They tout all of the good buzzwords like low/free of EMF, etc, and they&#39;re working in an emerging space (light therapy) that at least at a cursory level of skimming the research sounds like it could have some really cool benefits. The downside? Popular brands and fancy marketing costs money, businesses need money to survive, and so for the <a href="https://joovv.com/products/joovv-light?variant=39356431502">Joovv Mini</a> we&#39;re looking at about ~US$600. Too expensive for my tastes, particularly for what appears to just be an array of LEDs.</p>

<p>Now, being a builder/breaker type, with a growing interest in the hardware/maker side.. I decided to look into it a little and figure if I could build my own. For reasons, for science!</p>

<p>So looking at the <a href="https://joovv.com/products/joovv-light?variant=39356431502">Joovv Mini</a>, we can infer the following:</p>

<ul>
<li>There are 2 grids of LEDs, each consisting of a 6x5 array of LEDs, for a total of 30 LEDs per grid, or 60 in the entire Joov Mini</li>
<li>If you get the mixed Red/Infra Red panels, you end up with: 14 red (660nm), 16 near infrared (850nm) per grid (28 red, 32 near infrared total)</li>
<li>Power consumption is 120w, so divided by the total LEDs (60), they seem to be 2w LEDs</li>
<li>There are 2 cooling fans, so that is probably 1 per grid</li>
<li>Total dimensions are: 15&quot; x 8.25&quot; x 3&quot;</li>
<li>Irradiance/treatment area are listed as: &gt;100+mw/cm^2, 25&quot; x 18&quot; (these will vary based on wavelength, distance used, etc)</li>
</ul>

<p>The other models just appear to use different counts of the &#39;LED grid&#39;, and include:</p>

<ul>
<li><a href="https://joovv.com/products/joovv-light?variant=39356431502">Joovv Mini</a>: 2 grids, 60 LEDs, 2 fans, 120w, ~US$595 (or ~US$9.91/LED)</li>
<li><a href="https://joovv.com/products/joovv-light?variant=39356431694">Joovv Original</a>: 5 grids, 150 LEDs, 5 fans, 300w, ~US$995 (or ~US$6.6/LED)</li>
<li><a href="https://joovv.com/products/joovv-light?variant=39356431886">Joovv Max</a>: 16 grids, 480 LEDs, 16 fans, 960w, ~US$2695 (or ~US$5.6/LED)</li>
</ul>

<p>So this gives us some pretty good starting parameters from a &#39;best of breed&#39; product, to use as a basis when we go digging around elsewhere. It also goes to show that there is probably a decent bit of margin between hardware costs and final product (as there always is), so DIY savings abound! We want:</p>

<ul>
<li>A bunch of 2w (or higher) red (660nm)/NIR (850nm) LEDs</li>
<li>Some fans</li>
<li>Power</li>
<li>Casing, etc</li>
</ul>

<h2>Other Commercial Products</h2>

<p>So there are a number of other products in this space too.. just a couple off the top of my head:</p>

<ul>
<li><a href="https://catalyticcolor.com/redjuvenator-light-therapy/">REDjuvenator</a>

<ul>
<li>15 x 15 array of LEDs (225 total), 1 foot square panel</li>
<li>Formula #1: Looks like all red LEDs</li>
<li>Formula #2: Looks like red/near infrared</li>
<li>Formula #3: Claims the benefits of #1 + #2</li>
<li>Formula #4: &#39;Bacteria buster&#39;, looks like red + UV LEDs</li>
</ul></li>
<li>Bulletproof Labs <a href="http://bulletprooflabs.com/body/">REDcharger</a> (which is a rebranding of another device.. but I forget the name at the moment..): 630nm/880nm. I think there were like 40,000 LEDs in this.. I feel like there was some small amount of blue/UV in there as well from memory..</li>
</ul>

<h2>Sourcing LEDs</h2>

<p>Now I haven&#39;t done a whole lot in this hardware building space before.. but I do know that <a href="https://www.aliexpress.com/">AliExpress</a> tends to have AllTheThings(tm).. I won&#39;t directly link as you may find better deals, but a few searches included:</p>

<ul>
<li>660nm led</li>
<li>850nm led</li>
</ul>

<p>Now.. I could go for the 2w spec like Joovv uses.. but maybe there are more interesting/cheaper combinations. Looking through the search results the following seemed common: 1w, 3w, 5w. Maybe we could change up the parameters for our build? For example, <a href="https://www.aliexpress.com/item/10pcs-1W-3W-High-Power-LED-Full-Spectrum-White-Warm-white-Green-Blue-Deep-Red-660nm/32859370682.html">one supplier</a> listed the following (may not be the best price, or the best supplier, just one example):</p>

<ul>
<li>1w, deep red (660nm): ~US$3.10/10pc == US$0.31/ea</li>
<li>3w, deep red (660nm): ~US$3.50/10pc == US$0.35/ea</li>
<li>1w, infrared (850nm): ~US$6.90/10pc == US$0.69/ea</li>
<li>3w, infrared (850nm): ~US$7.90/10pc == US$0.79/ea</li>
</ul>

<p>So from a completely naive back of napkin cost calculation using the 3w LEDs:</p>

<ul>
<li>Mini: 28 red (~US$9.80), 32 NIR (~US$25.28), <strong>Total:</strong> ~US$35.08</li>
<li>Original: 70 red (~US$24.50), 80 NIR (~US$63.20), <strong>Total:</strong> ~US$87.70</li>
<li>Max: 224 red (~US$78.40), 256 NIR (~US$202.24), <strong>Total:</strong> ~US$280.64</li>
</ul>

<p>Obviously there will be additional costs for the power supply, fans, casing, construction, etc.. but those costs seem far nicer to me.</p>

<p>There were also some <a href="https://www.aliexpress.com/item/High-Power-LED-Chip-Deep-Red-LED-660nm-Plant-Grow-Light-1W-3W-5W-10W-20W/32633843531.html">other providers</a> that had some interesting looking LED arrays, with powers such as: 1w, 3w, 5w, 10w, 20w, 30w, 50w, 100w. So we could go super powerful if we wanted (though maybe wouldn&#39;t get as good coverage..). Also.. is there a sweet spot for the power/brightness? Need to dig into the research more for that.. It sounds like there is.</p>

<p>In doing some reading, it seems that a lot of the &#39;grow lights&#39; actually operate in the same spectrums (good for plants, good for us!), so that may be another path worth looking into.</p>

<h2>But what about EMFs?</h2>

<p>So one of the claims among a number of these products is that they&#39;re &#39;low/free from EMFs&#39;, and a cursory skim of some of the research sounds plausible that EMFs could be a thing worth caring about (search terms: EMF voltage regulated calcium channels, etc). Now this isn&#39;t an area I&#39;ve really looked much into, but if we assume they are bad.. what can we do about it? Off the top of my head, and completely unsubstantiated, I would imagine some form of <a href="https://en.wikipedia.org/wiki/Faraday_cage">faraday cage</a> type device would do the trick, given it&#39;s an &quot;enclosure used to block electromagnetic fields&quot;. So maybe that&#39;s an area to read more into..</p>

<h2>But what about blue light?</h2>

<p>So.. seems we can use blue/UV light for things too.. more related to inhibiting bad stuff it seems. Could definitely be an interesting rabbit hole to dive deeper down:</p>

<ul>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5626244/">Blue light treatment of Pseudomonas aeruginosa: Strong bactericidal activity, synergism with antibiotics and inactivation of virulence factors</a>

<ul>
<li>One of the more common infection types in Cystic Fibrosis.. interesting..</li>
</ul></li>
</ul>

<p>There also seems to be some stuff in the space of using blue (technically violet, 360-400nm) light for myopia/similar:</p>

<ul>
<li><a href="https://blog.bulletproof.com/violet-light-eye-health/">https://blog.bulletproof.com/violet-light-eye-health/</a></li>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5233810/">PubMed: Violet Light Exposure Can Be a Preventive Strategy Against Myopia Progression</a></li>
</ul>

<h2>Lasers!</h2>

<p>So, moving a bit away from the LED side of things.. a lot of the &#39;Low Level Laser Therapy&#39; or &#39;Cold Laser&#39; treatments out there are using laser diodes instead. They can penetrate deeper, tend to be higher power, more focussed, etc. I&#39;ve heard about these sorts of things being used to aid in healing of injured joints and more, enough to catch my interest. But once again, these things are expensive (a treatment might cost you $50/session).. and hard to come buy for the biohacker type who isn&#39;t a medical professional. For example:</p>

<ul>
<li><a href="https://www.thorlaser.com/products/">THOR Laser</a>

<ul>
<li>~US$14,000-24,000</li>
<li>Various LED/laser probe options (810nm IR laser, 660nm laser, etc)</li>
<li>These ones sound quite low powered too: 30mW, 75mW, 200mW, etc</li>
</ul></li>
<li><a href="http://multiradiance.com.au/products/mr4-super-pulsed-laser">MR4 Super Pulsed Laser</a>:

<ul>
<li>~AU$10,000</li>
<li>Infrared (860-960nm)</li>
<li>Red (600-740nm)</li>
<li>Laser (25w, pulsed)</li>
</ul></li>
</ul>

<p>So looking deeper into the wavelengths, power levels, and options, we find:</p>

<ul>
<li><a href="https://www.coldlasers.org/therapy/wavelength/">https://www.coldlasers.org/therapy/wavelength/</a></li>
</ul>

<p>Skimming through some of this stuff.. it sounds like we want to look into pulsed/super pulsed laser diodes.. but what are they?</p>

<ul>
<li><a href="https://www.pulselaserrelief.com.au/super-pulsed-low-level-laser-therapy">https://www.pulselaserrelief.com.au/super-pulsed-low-level-laser-therapy</a></li>
</ul>

<p><strong>tl;dr:</strong> high power, low heat, deeper penetration, 904-905nm Gallium Arsenide (GaAS) diode</p>

<p>And if we turn to our trusty component dealer <a href="https://www.aliexpress.com/">AliExpress</a>, we turn up a few interesting search results:</p>

<ul>
<li>pulsed laser diode 25w</li>
</ul>

<p>Now remember.. lasers are dangerous, you can and will destroy your eyes if you do bad things with them. Always wear proper laser eye safety when doing anything like this. Also, if you&#39;re in a country like Australia, they may just actually not let you import these full stop.. yay for draconian laws! There might be a way around it for &#39;legit reasons&#39; (rather than annoying cats with red dots), but it&#39;s not an area I&#39;ve deeply looked into yet.</p>

<p>Now that that&#39;s out of the way.. maybe like ~US$25 for a laser diode.. and then need to power it, probably cool it, etc. Better than $25k!</p>

<h2>Link Dump</h2>

<p>Now that we&#39;ve got all of that out of the way, how about that link dump:</p>

<ul>
<li><a href="https://www.redlighttherapy.com.au/">https://www.redlighttherapy.com.au/</a></li>
<li><a href="https://draxe.com/red-light-therapy/">https://draxe.com/red-light-therapy/</a></li>
<li><a href="https://redlightman.com/blog/complete-guide-light-therapy-dosing/">https://redlightman.com/blog/complete-guide-light-therapy-dosing/</a></li>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3288797/">PubMed: The Nuts and Bolts of Low-level Laser (Light) Therapy</a>

<ul>
<li>&quot;The wavelengths of light used for LLLT fall into an “optical window” at red and NIR wavelengths (600–1070 nm) (Fig. 1d). Effective tissue penetration is maximized in this range, as the principal tissue chromophores (hemoglobin and melanin) have high absorption bands at wavelengths shorter than 600 nm. Wavelengths in the range 600–700 nm are used to treat superficial tissue, and longer wavelengths in the range 780–950 nm, which penetrate further, are used to treat deeper-seated tissues. Wavelengths in the range 700–770 nm have been found to have limited biochemical activity and are therefore not used.&quot;</li>
</ul></li>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4126803/">PubMed: Low-level laser (light) therapy (LLLT) in skin: stimulating, healing, restoring</a></li>
</ul>

<p>And if we want to try sensing/reading different wavelengths (maybe for testing, or reverse engineering things, or just for fun!):</p>

<ul>
<li><a href="http://forum.arduino.cc/index.php?topic=17429.0">Arduino Forum: Sensing wavelength of lights</a></li>
<li><a href="https://hackaday.com/2014/07/31/diy-usb-spectrometer-actually-works/">https://hackaday.com/2014/07/31/diy-usb-spectrometer-actually-works/</a></li>
<li><a href="https://www.photonicsonline.com/doc/wavelength-sensor-and-circuit-pss-ws-756-pcb-0001">https://www.photonicsonline.com/doc/wavelength-sensor-and-circuit-pss-ws-756-pcb-0001</a></li>
<li><a href="https://www.first-sensor.com/en/products/optical-sensors/detectors/wavelength-sensitive-diodes-ws/">https://www.first-sensor.com/en/products/optical-sensors/detectors/wavelength-sensitive-diodes-ws/</a></li>
</ul>

<p>Full spectrum bulbs:</p>

<ul>
<li><a href="http://www.viva-lite.com.au/">http://www.viva-lite.com.au/</a></li>
</ul>

<p>Power supplies that are probably actually safe enough to plug into 240v:</p>

<ul>
<li><a href="https://www.meanwell-led-drivers.com.au/">https://www.meanwell-led-drivers.com.au/</a></li>
</ul>

<h2>Conclusion</h2>

<p>So now we have a wide variety of interesting starting points, and some key words/aspects to dig deeper into this area of research/DIY building. We learned that a lot of these products, while very cool and useful, also tend to be WAY overpriced. Maybe we can build our own, open source the designs/components/learnings from it, and move everyone forward together (rather than only those who have the big $$ to benefit).</p>

<p>Was this useful? Have you built your own DIY light hacking devices? Got a cool story to share? Some new research? I&#39;d love to hear what you&#39;re doing in this space in the comments below!</p>

	  ]]></description>
	</item>

	<item>
	  <title>Biohacked Box #6 (Spring, March 2018)</title>
	  <link>/devalias/2018/03/05/biohacked-box-6-spring/</link>
	  <author>devalias</author>
	  <pubDate>2018-03-05T00:00:00+11:00</pubDate>
	  <guid>/devalias/2018/03/05/biohacked-box-6-spring/</guid>
	  <description><![CDATA[
	     <p>Time for another Bulletproof <a href="http://biohacked.com/">Biohacked.com</a> quarterly box.</p>

<h2>Contents</h2>

<p>If you want to follow along with the official unboxing video, head on over and <a href="https://biohacked.com/BBQ118/">watch with me</a> (<a href="https://www.youtube.com/watch?v=T9i8h_Edh_4">YouTube</a>).</p>

<ul>
<li>0:00 Intro

<ul>
<li>~US$174 value</li>
</ul></li>
<li>1:15 Box overview booklet, discount codes, etc</li>
<li>1:34 <a href="https://knockknockstuff.com/product/affirmators-50-affirmation-cards-help-help-without-self-helpy-ness/">KnockKnock Affirmators Cards</a> (~US$12)

<ul>
<li>20% off any purchase: BIOHACKING20 (till 01/06/2018)</li>
</ul></li>
<li>3:43 <a href="https://www.defendershield.com/headphones">DefenderShield EMF Free Air Tube Headphones</a> (~US$65)

<ul>
<li>Not noise cancelling</li>
<li>Block EMF from getting into ear canal, speaker positioned distance away from earbuds</li>
<li>EMF&#39;s affect voltage gated calcium channels in mitochondria, cause inflammation over time</li>
<li>15% off: BIOHACK18 (till 30/09/2018)</li>
</ul></li>
<li>5:40 <a href="https://performancenutbutter.com/">Performance Nut Butter Samples</a>

<ul>
<li>Macadamia, coconut, cashews, sea salt</li>
<li>20% off: BULLETPROOF</li>
</ul></li>
<li>6:25 <a href="https://branchbasics.com/shop/kit-travel/">Branch Basics Travel Kit</a> (~US$20)

<ul>
<li>Safe/clean household/etc cleansers, concentrated, travel kit</li>
<li>15% off: BIOHACKED</li>
</ul></li>
<li>8:08 <a href="https://thefidgetcube.co/">Fidget Cube</a> (~US$20)</li>
<li>9:22 <a href="https://www.cosmeceuticalslab.com/sunshield">Pure Mineral SunShield</a> (~US$65)

<ul>
<li>SPF 50</li>
<li>Active ingredients: titanium dioxide (22%), zinc oxide (22%)</li>
<li>30% off: BHSS</li>
</ul></li>
<li>11:53 Golden Ticket: <a href="https://vitaclaychef.com/collections/slow-cooker/products/high-fired-vitaclay-smart-organic-multicooker">VitaClay Slow Cooker</a> (~US$120-140)

<ul>
<li>Zisha clay, traditionally used in china</li>
<li>Can go down to low temperatures (eg. yoghurt making)</li>
<li>$10 off: GIFT10</li>
</ul></li>
<li>14:59 Wrap up</li>
</ul>

<h2>Previous Boxes</h2>

<p>Want to see what the previous boxes have been like? Check out my other posts:</p>

<ul>
<li><a href="/devalias/2017/12/10/biohacked-box-5-winter/">Biohacked Box #5</a> (Winter, December 2017)</li>
<li><a href="/devalias/2017/09/05/biohacked-box-4-autumn/">Biohacked Box #4</a> (Autumn, September 2017)</li>
<li><a href="/devalias/2017/06/04/biohacked-box-3/">Biohacked Box #3</a> (June 2017)</li>
<li><a href="/devalias/2017/03/01/biohacked-box-2/">Biohacked Box #2</a> (March 2017)</li>
<li><a href="/devalias/2016/12/20/biohacked-box-1-bulletproof-biohacking-box-9/">Biohacked Box #1</a> (December 2016)</li>
<li><a href="/devalias/2016/10/13/bulletproof-biohacking-box-8/">Quarterly Biohacking Box #8</a></li>
<li><a href="/devalias/2016/07/21/bulletproof-quarterly-biohacking-box-7/">Quarterly Biohacking Box #7</a>

<ul>
<li>This has a quick summary of boxes 1-6 as well</li>
</ul></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>Biohacked Box #5 (Winter, December 2017)</title>
	  <link>/devalias/2017/12/10/biohacked-box-5-winter/</link>
	  <author>devalias</author>
	  <pubDate>2017-12-10T00:00:00+11:00</pubDate>
	  <guid>/devalias/2017/12/10/biohacked-box-5-winter/</guid>
	  <description><![CDATA[
	     <p>Time for another Bulletproof <a href="http://biohacked.com/">Biohacked.com</a> quarterly box.</p>

<h2>Contents</h2>

<p>If you want to follow along with the official unboxing video, head on over and <a href="https://biohacked.com/BBQ417/">watch with me</a> (<a href="https://www.youtube.com/watch?v=DGgxn0rXnF0">YouTube</a>).</p>

<ul>
<li>0:00 Intro</li>
<li>0:31 Box overview booklet, discount codes, etc</li>
<li>0:53 <a href="https://markbellslingshot.com/products/hip-circle">Mark Bell SlingShot Hip Circle</a> (~US$25)

<ul>
<li>Activates hip/butt muscles, warm up for exercise</li>
<li>Fixes posture, offsets quad dominance, undoes sitting damage</li>
<li>10% off entire order: BIOHACKED</li>
</ul></li>
<li>3:07 <a href="http://www.yogabody.com/awesometoes-global/">Yoga Body Awesome Toes</a> (~US$25)

<ul>
<li>Silicone, spreads toes out</li>
<li>Reduces foot pain, realigning toe bones</li>
<li>Relieve stress/tension, can walk or sleep in them</li>
</ul></li>
<li>5:15 <a href="http://www.prohands.net/products/gripmaster.php">Pro Hands GripMaster</a> (~US$15)

<ul>
<li>Grip/hand/finger strengthening</li>
<li>20% off: BIOHACKED</li>
</ul></li>
<li>7:05 <a href="https://biohacked.com/product/biohacked-tens-unit/">Biohacked TENS Unit</a> (~US$85)

<ul>
<li>Runs small pulsed current across nerves</li>
<li>Reduces perception of pain, releases endorphins</li>
</ul></li>
<li>9:20 <a href="https://earthbasedbody.com/product/grounding-gellee/">Earth Based Body Grounding Gelee</a> (~US$49)

<ul>
<li>Puts layer of ionic silver on feet, increase conductivity with earth</li>
<li>25% off: BHGG25 (till 31/01/2018)</li>
</ul></li>
<li>11:00 <a href="https://manflowyoga.com/shop/guyoga/">ManFlow Yoga - Guyoga</a> (~US$35)

<ul>
<li><a href="http://manflowyoga.com/biohacker">Access</a>, DaveSentMe</li>
</ul></li>
<li>13:20 Golden Ticket: <a href="http://hyperice.com/hypersphere">Hyperice Sphere / Roller</a> (~US$149)

<ul>
<li>Vibrates, rechargable</li>
<li>Releases trigger points/knots quickly</li>
<li>30% off any product: BULLETPROOF30</li>
</ul></li>
<li>15:26 Golden Ticket: <a href="https://joovv.com/products/joovv-light?variant=39356431502">Joov Combo Mini</a> (~$600)

<ul>
<li>Photobiomodulation, red light therapy</li>
<li>Red light contributes electrons to the electron transport chain</li>
<li>IR changes the structure of water in your body</li>
<li>660nm and 850nm, good for 50,000 hours of use</li>
<li>Can use on head for brain/hair loss</li>
<li>$25 off: BIOHACKED</li>
<li>(Sidenote: You could probably build your own equivalent to the mini for ~US$100 in parts from aliexpress, save yourself ~US$500)</li>
</ul></li>
</ul>

<h2>Previous Boxes</h2>

<p>Want to see what the previous boxes have been like? Check out my other posts:</p>

<ul>
<li><a href="/devalias/2017/09/05/biohacked-box-4-autumn/">Biohacked Box #4</a> (Autumn, September 2017)</li>
<li><a href="/devalias/2017/06/04/biohacked-box-3/">Biohacked Box #3</a> (June 2017)</li>
<li><a href="/devalias/2017/03/01/biohacked-box-2/">Biohacked Box #2</a> (March 2017)</li>
<li><a href="/devalias/2016/12/20/biohacked-box-1-bulletproof-biohacking-box-9/">Biohacked Box #1</a> (December 2016)</li>
<li><a href="/devalias/2016/10/13/bulletproof-biohacking-box-8/">Quarterly Biohacking Box #8</a></li>
<li><a href="/devalias/2016/07/21/bulletproof-quarterly-biohacking-box-7/">Quarterly Biohacking Box #7</a>

<ul>
<li>This has a quick summary of boxes 1-6 as well</li>
</ul></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>Atlassian Confluence: Cross-Site Scripting (XSS) (CVE-2017-16856)</title>
	  <link>/devalias/2017/12/05/atlassian-confluence-cross-site-scripting-xss/</link>
	  <author>devalias</author>
	  <pubDate>2017-12-05T00:00:00+11:00</pubDate>
	  <guid>/devalias/2017/12/05/atlassian-confluence-cross-site-scripting-xss/</guid>
	  <description><![CDATA[
	     <p>Earlier this year I spent some time delving into <a href="https://www.atlassian.com/software/confluence">Atlassian Confluence</a> to see if I could dig up any bugs that had slipped through the cracks. I wasn&#39;t really expecting to turn up much, but I was super excited and surprised when I managed to find an issue within the RSS feed plugin leading to Cross-Site Scripting (XSS) (Twitter: <a href="https://twitter.com/_devalias/status/922234470274498560">1</a>, <a href="https://twitter.com/_devalias/status/938271825414455298">2</a>; LinkedIn: <a href="https://www.linkedin.com/feed/update/urn:li:activity:6328008786355331072/">1</a>, <a href="https://www.linkedin.com/feed/update/urn:li:activity:6344043067401732096">2</a>; BugCrowd: <a href="https://bugcrowd.com/devalias">1</a>, <a href="https://bugcrowd.com/atlassian/hall-of-fame">2</a>).</p>

<p>Thanks to <a href="https://www.atlassian.com/trust/security">Atlassian</a> and <a href="https://www.bugcrowd.com/">BugCrowd</a> for running an awesome bug bounty program and giving researchers the opportunity to hack things, make the internet safer, AND get rewarded while doing so!</p>

<h2>The CVE</h2>

<ul>
<li><strong><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-16856">CVE-2017-16856</a></strong>: The RSS Feed macro in Atlassian Confluence before version 6.5.2 allows remote attackers to inject arbitrary HTML or JavaScript via cross site scripting (XSS) vulnerabilities in various rss properties which were used as links without restriction on their scheme.

<ul>
<li><a href="https://jira.atlassian.com/browse/CONFSERVER-54395">Confluece Bug Report (CONFSERVER-54395)</a></li>
<li><a href="https://confluence.atlassian.com/doc/issues-resolved-in-6-5-2-940701301.html">Confluence - Issues resolved in 6.5.2</a></li>
<li><a href="http://www.securityfocus.com/bid/102094">SecurityFocus</a></li>
</ul></li>
</ul>

<h2>Remediation</h2>

<p>This issue was fixed in Confluence <code>6.5.2</code>. Update to this version or newer to be protected. See the CVE advisory details for more information.</p>

<h2>Chaining bugs, social engineering and platform features</h2>

<p>As part of my PoC, I put together some fun little phishing code using the Confluence web plugin API&#39;s. If there is interest (and I&#39;m allowed), I might share it (and some of the useful features/places to look to build similar) sometime.</p>

<p>Once XSS is achieved, if the current user isn&#39;t already an &#39;elevated&#39; administrator, the code provides error messages using standard Confluence GUI elements to convince the user to elevate their privileges with &#39;websudo&#39;. Once they do that, you can basically abuse their full privileges to create new administrators, or (my favourite) install a small malicious plugin to provide Remote Code Execution (RCE) on the server.</p>

<p>While these aren&#39;t security issues in themselves, it does show how you can leverage social engineering techniques and other platform features to chain smaller issues into something more powerful and damaging.</p>

<h2>Acknowledgements</h2>

<p>These issues were identified by <a href="http://devalias.net">myself</a> and the team at <a href="https://dtss.com.au">TSS</a>:</p>

<ul>
<li>Glenn &#39;devalias&#39; Grant (<a href="http://devalias.net">http://devalias.net</a>) of TSS (<a href="https://dtss.com.au">https://dtss.com.au</a>)</li>
</ul>

<h2>Conclusion</h2>

<p>It pays to look in places less travelled. If there are older features in products, or things that may not be as popular/used as often, try looking in there. Who knows what may have been overlooked.</p>

<p>Have you ever looked into some popular software and found issues you never expected to find? Got a cool story to share about it? Maybe you&#39;ve chained some bugs in an interesting way, or just want to hear more about my PoC? I&#39;d love to hear from you in the comments below!</p>

	  ]]></description>
	</item>

	<item>
	  <title>Presenting all the things! (BSides Wellington, CSides Canberra, SecTalks Canberra)</title>
	  <link>/devalias/2017/11/19/presenting-all-the-things-bsides-wellington-csides-sectalks/</link>
	  <author>devalias</author>
	  <pubDate>2017-11-19T00:00:00+11:00</pubDate>
	  <guid>/devalias/2017/11/19/presenting-all-the-things-bsides-wellington-csides-sectalks/</guid>
	  <description><![CDATA[
	     <p>Recently I had the opportunity to present at a few local security meetups, and one international security conference.</p>

<p>At the start of 2017, I set a loose goal in the back of my mind that I would like to &quot;get out there more&quot; and &quot;speak about the things I do&quot;. Little did I know at the time that this would actually eventuate; leading to me having a pile of great experiences, and meeting some really cool and talented people!</p>

<h2>TL;DR</h2>

<ul>
<li><a href="http://www.sectalks.org/canberra/">SecTalks Canberra</a> (<a href="https://www.meetup.com/SecTalks-Canberra/events/241579721/">November 14th, 2017; Canberra, Australia</a>)

<ul>
<li>&quot;Hack FaaSter: Leveraging Docker and OpenFaaS for fun and offensive (security) profit.&quot;</li>
<li>Slides, workshop, etc: <a href="https://github.com/0xdevalias/hack-FaaSter">GitHub</a> <a href="https://github.com/0xdevalias/hack-FaaSter/blob/master/20171114%20-%20Hack%20FaaSter%20-%20SecTalks%20Canberra.pdf">PDF</a>, <a href="https://speakerdeck.com/0xdevalias/hack-faaster-leveraging-docker-and-openfaas-for-fun-and-offensive-security-profit">SpeakerDeck</a>, <a href="https://www.slideshare.net/GlenndevaliasGrant/hack-faaster-sectalks-canberra-20171114">SlideShare</a></li>
</ul></li>
<li><a href="http://www.bsidesau.com.au/csides.html">CSides Canberra</a> (November 17th, 2017; Canberra, Australia)

<ul>
<li>&quot;Gophers, whales and.. clouds? Oh my!&quot; <code>v0.2-prewlg-alpha</code></li>
</ul></li>
<li><a href="https://www.bsides.nz/">BSides Wellington 2017</a> (November 23-24th, 2017; Wellington, New Zealand)

<ul>
<li><a href="https://bsideswellington2017.sched.com/speaker/glenndevaliasgrant">Speaker: Glenn &#39;devalias&#39; Grant</a></li>
<li><a href="https://bsideswellington2017.sched.com/event/CTpF/gophers-whales-and-clouds-oh-my">&quot;Gophers, whales and.. clouds? Oh my!&quot;</a></li>
<li>Slides, etc: <a href="https://github.com/0xdevalias/gopherblazer">GitHub</a>, <a href="https://github.com/0xdevalias/gopherblazer/blob/master/slides/20171123-Gopherblazer-BSidesWellington.pdf">PDF</a>, <a href="https://speakerdeck.com/0xdevalias/gophers-whales-and-dot-clouds-oh-my">SpeakerDeck</a>, <a href="https://www.slideshare.net/GlenndevaliasGrant/gophers-whales-and-clouds-oh-my">SlideShare</a></li>
</ul></li>
</ul>

<h2>SecTalks Canberra</h2>

<p><a href="http://www.sectalks.org/canberra/">SecTalks Canberra</a> is a monthly security meetup with more of a focus on participation and learning from others, rather than the traditional &#39;super awesome technical talk but how do I do it&#39; style of things.</p>

<p>I had the opportunity to run a little workshop on how to use <a href="https://www.docker.com/">Docker</a> and <a href="https://www.openfaas.com/">OpenFaaS</a> to improve offensive capabilities.</p>

<blockquote>
<p>Hack FaaSter: Leveraging Docker and OpenFaaS for fun and offensive (security) profit.</p>
</blockquote>

<p>Slides, workshop files and more details are available from the &#39;TL;DR&#39; section above.</p>

<p>Description:</p>

<blockquote>
<p>Join us this month for Hack FaaSter - leveraging <a href="https://www.docker.com/">Docker</a> and <a href="https://www.openfaas.com/">OpenFaaS</a> to improve offensive tooling, with the glorious <a href="https://twitter.com/_devalias">@_devalias</a> (<a href="https://github.com/0xdevalias">Github</a> // <a href="https://www.linkedin.com/in/glenn-devalias-grant/">LinkedIn</a>)</p>
</blockquote>

<h2>CSides Canberra</h2>

<p><a href="http://www.bsidesau.com.au/csides.html">CSides Canberra</a> is a monthly security meetup run by the organisers of <a href="http://www.bsidesau.com.au/">BSides Canberra</a>.</p>

<p>I had the opportunity to present a <code>v0.2-prewlg-alpha</code> version of my BSides Wellington talk, and get some practice and feedback in before the big thing.</p>

<blockquote>
<p>Gophers, whales and.. clouds? Oh my! (v0.2-prewlg-alpha)</p>
</blockquote>

<p>Slides and more details are available from the &#39;TL;DR&#39; section above, as well as the BSides Wellington section below.</p>

<h2>BSides Wellington</h2>

<p><a href="https://www.bsides.nz/">BSides Wellington</a> (<a href="https://twitter.com/bsideswlg">Twitter</a>) is an annual security conference (based in Wellington, New Zealand) that ran it&#39;s first event in 2017. Popping up to fill the void left by <a href="https://www.kiwicon.org/">Kiwicon</a> (<a href="https://twitter.com/kiwicon">Twitter</a>), they had a strong first event, and hopefully will continue that trend into the future!</p>

<p>I had the opportunity to present my talk on leveraging DevOps trends and tools (<a href="https://www.docker.com/">Docker</a>, <a href="https://en.wikipedia.org/wiki/Serverless_computing">Serverless</a>, <a href="https://en.wikipedia.org/wiki/Function_as_a_service">FaaS</a>, <a href="https://golang.org/">Golang</a>, etc), to increase my efficiency and effectiveness on the offensive side.</p>

<blockquote>
<p>Gophers, whales and.. clouds? Oh my!</p>
</blockquote>

<p>Slides and more details are available from the &#39;TL;DR&#39; section above.</p>

<p>You can read the <a href="https://bsideswellington2017.sched.com/event/CTpF/gophers-whales-and-clouds-oh-my">official brief of my talk</a>:</p>

<blockquote>
<p>Go, Docker and Microservices; some great technologies and buzzwords that we hear so much about on the development side of the fence, but how can we leverage these technologies to improve our offensive capacity? Armed with a passion for new tech, a vague theory, and an ‘nsa-o-matic’ approved project name; gopherblazer was born.</p>

<p>Whether through dockerising and improving existing tooling, leveraging Function-as-a-Service (FaaS) offerings, or just distributing offensive capabilities; I’ll share what I learned on my journey into improving my offensive capacity and productivity (while having an excuse to play with shiny technologies along the way!).</p>
</blockquote>

<p>And I can even now say that I have a <a href="https://bsideswellington2017.sched.com/speaker/glenndevaliasgrant">professional speaker bio</a>:</p>

<blockquote>
<p>Glenn ‘devalias’ Grant is a full-stack, polyglot developer with an acute interest in the offensive side of security. Whether building something new or finding the cracks to break in, there is always a solution to be found; even if it requires learning something entirely new. If you can improve/automate something, do it, and if you’ve put the effort in to do so, open-source it and share it with everyone else.</p>

<p>When not hacking and coding, Glenn can be found snowboarding the peaks of Japan, falling out of the sky, floating around underwater, or just finding the most efficient path between A and B (even if that’s over walls). Life is short. Do the things you love, embrace the unknown, live your dreams, and share your passion.</p>
</blockquote>

<p>Overall, the conference was amazing. As expected, there were a number of deeply interesting technical talks, but as a bit of a twist from traditional security conferences, there were quite a few talks that focussed on mental health, impostor syndrome, and other &#39;culture based&#39; topics that so often go unmentioned in the infosec industry. Very much appreciated and would love to see this sort of thing happen at more conferences in future.</p>

<p>If you missed the talks, or want to go back and re-watch them, videos should be posted online at some point (once the organisers recover from running the conference). A lot of the presenters also seem to be pushing their slides/content out online. Here&#39;s a selection of the few I&#39;ve stumbled across so far (in no particular order):</p>

<ul>
<li><a href="https://github.com/0xdevalias/gopherblazer#talks">Glenn &#39;devalias&#39; Grant, &quot;Gophers, whales and.. clouds? Oh my!&quot;</a> (<a href="https://twitter.com/_devalias/status/937104594974289920">Twitter</a>)</li>
<li><a href="https://speakerdeck.com/barnbarn/layer-2-person-spoofing-and-impostor-syndrome">Ben Hughes, &quot;Layer 2 person spoofing and impostor syndrome&quot;</a> (<a href="https://twitter.com/benjammingh/status/933484211977166848">Twitter</a>)</li>
<li><a href="https://speakerdeck.com/heisenburger/design-for-security-bsides-wellington-2017">Serena Chen, &quot;Design for Security — BSides Wellington 2017&quot;</a> (<a href="https://twitter.com/Sereeena/status/935208350207356930">Twitter</a>)</li>
<li><a href="https://mango.pdf.zone/operation-luigi-how-i-hacked-my-friend-without-her-noticing">&quot;Alex&quot;, &quot;Operation Luigi: How I hacked my friend without her noticing&quot;</a> (<a href="https://twitter.com/mangopdf/status/934897549554491394">Twitter</a>)</li>
<li><a href="https://github.com/jenofdoom/give-your-users-better-feedback-about-rubbish-passwords">@jenofdoom, &quot;Give your users better feedback about rubbish passwords with zxcvbn&quot;</a></li>
<li><a href="https://zxsecurity.co.nz/presentations/201711_BSidesWLG-ZXSecurity_MeatPuppets.pdf">Simon &#39;bogan&#39; Howard, &quot;Influencing Meat
Puppets Through
Memes&quot;</a> (<a href="https://twitter.com/bogan/status/934896629135556608">Twitter</a>)</li>
</ul>

<p>It looks like there are also some good summaries, notes and writeups of the conference popping up around the net. Some places to start looking:</p>

<ul>
<li><a href="https://rodger.donaldson.gen.nz/archives/2017/11/b-sides-wellington-day-1/">B-Sides Wellington - Day 1 (Notes)</a> (<a href="https://twitter.com/hroethgar/status/933620066129625090">Twitter</a>)

<ul>
<li>My Talk: <a href="https://rodger.donaldson.gen.nz/archives/2017/11/b-sides-wellington-day-1/#gophers-whales-and-clouds-oh-my">Gophers, whales, and clouds? Oh my.</a></li>
</ul></li>
<li><a href="https://rodger.donaldson.gen.nz/archives/2017/11/b-sides-wellington-day-2/">B-Sides Wellington - Day 2 (Notes)</a></li>
<li><a href="https://www.asinine.nz/2017-11-25/bsides-badge-part1/">BSides Wellington Badge Challenge</a> (<a href="https://twitter.com/asinine_net_nz/status/934592555253039104">Twitter</a>)</li>
</ul>

<p>And of course, Twitter is always full of content when it comes to the security industry, with 3 hashtags mainly being used throughout the conference:</p>

<ul>
<li><a href="https://twitter.com/search?q=%23bsideswlg&src=typd">#bsideswlg</a></li>
<li><a href="https://twitter.com/search?q=%23bsideswlg2017&src=typd">#bsideswlg2017</a></li>
<li><a href="https://twitter.com/search?q=%23bsidesnz&src=typd">#bsidesnz</a></li>
</ul>

<h2>Conclusion</h2>

<p>While at times I was definitely feeling the stress and pressure of having a few looming deadlines, and at times possibly not allocating enough time/energy/focus to working on them as I would have liked, it has been a great experience, and left a smouldering flame of passion to speak at more events in the future.</p>

<p>Know of any other writeups, slides or tools; or got a cool story to share from BSides Wellington? Would love to hear from you in the comments!</p>

	  ]]></description>
	</item>

	<item>
	  <title>Squiz Matrix: Multiple vulnerabilities</title>
	  <link>/devalias/2017/09/07/squiz-matrix-multiple-vulnerabilities/</link>
	  <author>devalias</author>
	  <pubDate>2017-09-07T00:00:00+10:00</pubDate>
	  <guid>/devalias/2017/09/07/squiz-matrix-multiple-vulnerabilities/</guid>
	  <description><![CDATA[
	     <p>Earlier this year I had an opportunity to spend some time looking at <a href="https://www.squiz.net/technology/cms">Squiz Matrix</a>, a Content Management System (CMS) used across a number of sectors including higher eduction, media and publishing, goverment, finance, health, and utilities. With a huge number of features, a massive PHP codebase, and a numbr of high profile sectors as clients, I set out to see if I could find any interesting little bugs hidden away.</p>

<p>While I won&#39;t get into the nitty gritty of most of the assessment process, I did find some things, and 3 CVE&#39;s were assigned (detailed below). One was interesting enough that I will probably write up the process in more detail at some point.</p>

<p>Given the rich functionality and plugins in the Matrix product, it could be interesting to dedicate more research time to explore the areas I didn&#39;t get to cover this time around. Who knows, perhaps Squiz would even be open to setting up a Bug Bounty program through someone like <a href="https://www.bugcrowd.com/">Bugcrowd</a> in the future too. That would be cool!</p>

<p>If you want to try it out, or play around yourself, there is a <a href="https://matrix.squiz.net/releases/vm">downloadable demo VM</a> available on the Squiz website.</p>

<h2>The CVE&#39;s</h2>

<ul>
<li><strong><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-14196">CVE-2017-14196</a></strong>: An information disclosure caused by a Path Traversal issue in the &#39;File Bridge&#39; plugin allowed the existence of files outside of the bridged path to be confirmed.</li>
<li><strong><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-14197">CVE-2017-14197</a></strong>: Multiple reflected Cross-Site Scripting (XSS) issues in Matrix &#39;WYSIWYG&#39; plugins.</li>
<li><strong><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-14198">CVE-2017-14198</a></strong>: Authenticated users with permissions to edit design assets can cause Remote Code Execution (RCE) via a maliciously crafted <code>time_format</code> tag.</li>
</ul>

<h2>Remediation</h2>

<p>These issues were fixed in version <code>5.4.1.3</code>. Update to this version or newer to be protected. See the CVE advisory details for more information.</p>

<h2>CVE-2017-14198: A Walkthrough</h2>

<p>TODO: Write up how this was identified, and the core issue that lead to it.</p>

<h2>Acknowledgements</h2>

<p>These issues were identified by <a href="http://devalias.net">myself</a> and the team at <a href="https://dtss.com.au">TSS</a>:</p>

<ul>
<li>Glenn &#39;devalias&#39; Grant (<a href="http://devalias.net">http://devalias.net</a>) of TSS (<a href="https://dtss.com.au">https://dtss.com.au</a>)</li>
</ul>

<p>Special thanks to Micky at Squiz for being an amazing resource throughout the disclosure process, and keeping us informed as patching and rollout progressed.</p>

<h2>Conclusion</h2>

<p>It seems the core issues here were a few bugs popping up in legacy code, and passing user-controlled values into sensitive areas without proper checks/sanitisation. Easy mistakes to make when managing such a large codebase that has evolved over the years.</p>

<p>Have you had a similar experience? Manage a large codebase and legacy code? Got good tips for how best to identify and avoid these sorts of issues? Would love to hear your ideas in the comments!</p>

	  ]]></description>
	</item>

	<item>
	  <title>Biohacked Box #4 (Autumn, September 2017)</title>
	  <link>/devalias/2017/09/05/biohacked-box-4-autumn/</link>
	  <author>devalias</author>
	  <pubDate>2017-09-05T00:00:00+10:00</pubDate>
	  <guid>/devalias/2017/09/05/biohacked-box-4-autumn/</guid>
	  <description><![CDATA[
	     <p>Time for another Bulletproof <a href="http://biohacked.com/">Biohacked.com</a> quarterly box.</p>

<h2>Contents</h2>

<p>If you want to follow along with the official unboxing video, head on over and <a href="https://biohacked.com/BBQ317/">watch with me</a> (<a href="https://www.youtube.com/watch?v=cbFMoXAszOY">YouTube</a>).</p>

<ul>
<li>0:00 Intro

<ul>
<li>~US$220 of value</li>
</ul></li>
<li>0:56 <a href="https://www.samina.com/">Samina Travel Cushion</a> (~US$75)

<ul>
<li>No petrochemical/flame retardents.</li>
<li>Green company</li>
<li>Climate regulating, conforms to body, self cleaning</li>
<li><a href="http://www.justhealthysleep.com/bulletproofbed">Discount on sleep system</a>: bulletproofbed (Expires 31/10/2017)</li>
</ul></li>
<li>3:11 <a href="https://www.siabotanics.com/product_p/enex.htm">Siabotanics Energy Elixir</a> (~US$59)

<ul>
<li>Essential oils</li>
<li>Topical, stimulate circulation/blood flow to brain</li>
<li>1 drop to each temple, 2 drops behind each ear, 900 drops in a bottle</li>
<li>35% off: ENEX35 (till 10/15/2017)</li>
</ul></li>
<li>4:32 <a href="https://biohacked.com/product/xpressgo-espresso-maker/">XpressGo Portable Espresso Maker</a> (~US$60)

<ul>
<li>Pump creates enough pressure to make real espresso</li>
</ul></li>
<li>6:05 <a href="https://www.bulletproof.com/fatwater-mango-12ct-case">Bulletproof FATwater - Mango Flavor</a></li>
<li>6:43 <a href="https://beekeepersnaturals.com/product/propolis-spray/">BeeKeepers Naturals Propolis Spray</a> (~US$14)

<ul>
<li>Bees make propolis to keep fungus/bacteria/etc from growing in the hive</li>
<li>Immune booster, antiinflammatory</li>
<li>Sustainable bee company</li>
<li>20% off: BIOHACKED ()</li>
</ul></li>
<li>8:15 Golden Ticket: <a href="https://nimasensor.com/">Nima Sensor</a> (~US$279)

<ul>
<li>Portable gluten sensor</li>
<li>Gluten == lectin</li>
<li>Nima app allows you to find truly gluten free restaurants</li>
<li>20% off starter kit: BIOHACKED (till 30/09/2017)</li>
</ul></li>
<li>10:10 Golden Ticket: <a href="https://www.teloyears.com/home/">TeloYears</a> (~US$89)

<ul>
<li>DNA health test, telomere length</li>
<li>Protective caps on the end of DNA, protect genetic information during cellular division</li>
<li>Telomere length reduces each time cell divides, when they&#39;re gone, cell dies</li>
<li>Dave does this test every 6-12 months</li>
<li>$10 off: DAVE17</li>
</ul></li>
<li>11:17 Random discount cards/etc

<ul>
<li>Nima Sensor</li>
<li>TeloYears</li>
<li>Box overview booklet</li>
</ul></li>
<li>12:20 Bulletproof Eye Armor: $15 off subscription: VISIONHACK (till 29/12/2017)

<ul>
<li>Designed to help eyes deal with blue light</li>
<li>Dave takes 4/day</li>
</ul></li>
<li>13:13 Wrap up</li>
</ul>

<h2>Previous Boxes</h2>

<p>Want to see what the previous boxes have been like? Check out my other posts:</p>

<ul>
<li><a href="/devalias/2017/06/04/biohacked-box-3/">Biohacked Box #3</a> (June 2017)</li>
<li><a href="/devalias/2017/03/01/biohacked-box-2/">Biohacked Box #2</a> (March 2017)</li>
<li><a href="/devalias/2016/12/20/biohacked-box-1-bulletproof-biohacking-box-9/">Biohacked Box #1</a> (December 2016)</li>
<li><a href="/devalias/2016/10/13/bulletproof-biohacking-box-8/">Quarterly Biohacking Box #8</a></li>
<li><a href="/devalias/2016/07/21/bulletproof-quarterly-biohacking-box-7/">Quarterly Biohacking Box #7</a>

<ul>
<li>This has a quick summary of boxes 1-6 as well</li>
</ul></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>An unexpected journey with webpack and RequireJS</title>
	  <link>/devalias/2017/08/05/unexpected-journey-webpack-requirejs/</link>
	  <author>devalias</author>
	  <pubDate>2017-08-05T00:00:00+10:00</pubDate>
	  <guid>/devalias/2017/08/05/unexpected-journey-webpack-requirejs/</guid>
	  <description><![CDATA[
	     <p>So the other day I <a href="https://github.com/blueclosure/BCDetect/issues/27">ran into what seemed like a bug</a> in some software I was using during a test. Narrowing things down in the codebase, it looked as though the error may have been related to a <a href="https://github.com/auth0/idtoken-verifier">library in use by the application</a> I was testing.</p>

<p>I needed an easy way to isolate the code that seemed to be causing the error from the rest of the application, which took me down a rabbit hole to learn a little bit more about a few different technologies.</p>

<h2>The Situation</h2>

<p>So I had a <a href="https://github.com/auth0/idtoken-verifier">JavaScript project</a> that I wanted to build and include in a little test webpage. A few things in the repo stood out:</p>

<ul>
<li><a href="https://github.com/auth0/idtoken-verifier/blob/master/package.json">package.json</a> - So it&#39;s using <a href="https://nodejs.org/">node.js</a> in some measure.

<ul>
<li>This also had a number of entries under the <code>scripts</code> section, including some that made use of <code>gulp</code> (another build tool)</li>
</ul></li>
<li><a href="https://github.com/auth0/idtoken-verifier/blob/master/gulpfile.js">gulpfile.js</a> - Another strong indicator that <a href="https://gulpjs.com/">gulp</a> was in use. Didn&#39;t need to dig too deeply into this side of things, though it did indicate that <code>webpack</code> was in use.</li>
<li><a href="https://github.com/auth0/idtoken-verifier/blob/master/webpack.config.js">webpack.config.js</a> / <a href="https://github.com/auth0/idtoken-verifier/blob/master/webpack.prod.config.js">webpack.prod.config.js</a> - The <a href="https://webpack.github.io/">webpack</a> configuration files.</li>
</ul>

<p>So now I had a fair idea of what we had to work with, time to try and build it.</p>

<h2>Building with npm and gulp</h2>

<p>This part was actually extremely straightforward, so I won&#39;t spend too long here. After cloning the repo, all I had to do was:</p>

<ul>
<li><code>npm install</code></li>
<li><code>npm build</code> (which is just a <a href="https://github.com/auth0/idtoken-verifier/blob/master/package.json#L8">script</a> that runs <code>gulp build</code>)</li>
</ul>

<p>After a bunch of downloads and a few warnings, I had 3 new files sitting in my <code>./build</code> folder. So easy!</p>

<ul>
<li><code>idtoken-verifier.js</code></li>
<li><code>idtoken-verifier.min.js</code></li>
<li><code>idtoken-verifier.min.js.map</code></li>
</ul>

<p>For the purposes of my standalone test website, I should only need the main file.</p>

<h2>So I built it, but how do I use it?</h2>

<p>Now that I had the library built, I just had to include the script in a little test webpage, call the functionality I needed, and I&#39;d be done. But looking at the start of the built script.. it didn&#39;t look as straightforward as I expected.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="nx">webpackUniversalModuleDefinition</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nx">factory</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">exports</span> <span class="o">===</span> <span class="s1">'object'</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">module</span> <span class="o">===</span> <span class="s1">'object'</span><span class="p">)</span>
        <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">factory</span><span class="p">();</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">define</span> <span class="o">===</span> <span class="s1">'function'</span> <span class="o">&amp;&amp;</span> <span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">)</span>
        <span class="nx">define</span><span class="p">(</span><span class="s2">"idtoken-verifier"</span><span class="p">,</span> <span class="p">[],</span> <span class="nx">factory</span><span class="p">);</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">exports</span> <span class="o">===</span> <span class="s1">'object'</span><span class="p">)</span>
        <span class="nx">exports</span><span class="p">[</span><span class="s2">"idtoken-verifier"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">factory</span><span class="p">();</span>
    <span class="k">else</span>
        <span class="nx">root</span><span class="p">[</span><span class="s2">"idtoken-verifier"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">factory</span><span class="p">();</span>
<span class="p">})(</span><span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</code></pre></div>
<p>Looks like <code>webpack</code> plays a part here.. and something called a &#39;universal module definition&#39;.</p>

<h2>Webpack</h2>

<p>I started off by doing a little reading about webpack config, and in particular this <code>umd</code> thing:</p>

<ul>
<li><a href="https://webpack.github.io/docs/library-and-externals.html#configuration-options">https://webpack.github.io/docs/library-and-externals.html#configuration-options</a></li>
<li><a href="https://webpack.github.io/docs/configuration.html#output-librarytarget">https://webpack.github.io/docs/configuration.html#output-librarytarget</a></li>
</ul>

<p>So it seems that <code>webpack</code> allows you to export &#39;wrapped&#39; modules in a number of formats, and <code>umd</code> is a combination of <code>amd</code>, <code>commonjs2</code> and/or a property in the root.</p>

<p>Sure enough, looking at the <code>output</code> section of the <a href="https://github.com/auth0/idtoken-verifier/blob/master/webpack.prod.config.js#L15-L21">webpack config</a> I came across some references to <code>umd</code>:</p>
<div class="highlight"><pre><code class="language-" data-lang="">output: {
  path: path.join(__dirname, '../build'),
  filename: '[name].min.js',
  library: 'idtoken-verifier',
  libraryTarget: 'umd',
  umdNamedDefine: true
},
</code></pre></div>
<p>At this point I decided to learn how to use an <code>amd</code> module, and after some quick googling I was lead to RequireJS.</p>

<h2>RequireJS</h2>

<p><a href="http://requirejs.org/">RequireJS</a> is a JavaScript module loader, and <a href="http://requirejs.org/docs/whyamd.html">supports AMD</a> (or &#39;Asynchronous Module Definition&#39;) modules. Since I just wanted to get this code working, I went back to Google to find a quick example of how to use RequireJS, finding myself on the following page:</p>

<ul>
<li><a href="https://coderwall.com/p/u8xgvq/requirejs-basic-introduction">https://coderwall.com/p/u8xgvq/requirejs-basic-introduction</a></li>
</ul>

<p>So it sounds like RequireJS handles a lot of the module injection/ordering that I would have otherwise had to think about myself. I decided to make life easy for myself and use <a href="https://cdnjs.com/libraries/require.js/">a CDN hosted version</a>, so all I had to do was stick the following code in the <code>head</code> section of my test page:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">data-main=</span><span class="s">"main"</span> <span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
<p>This loaded RequireJS and told it to inject the <code>main.js</code> file, which looks like:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">require</span><span class="p">([</span><span class="s1">'idtoken-verifier'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">IdTokenVerifier</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">verifier</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IdTokenVerifier</span><span class="p">({});</span>
    <span class="c1">// Do interesting things here..</span>
<span class="p">});</span>
</code></pre></div>
<p>Sticking to the &#39;easy and obvious&#39; pattern that I&#39;d seen so far, this would inject the <code>idtoken-verifier.js</code> file, and then make the library accessible inside this <code>require</code> block. Nice!</p>

<h2>Bringing it all together with Plunker</h2>

<p>I wanted to keep all of the files together in an easily accessible format so others could test and play with it. After a little looking around I ended up using <a href="http://plnkr.co/">Plunker</a> since it let me have multiple files (unlike <a href="https://jsfiddle.net/">JSFiddle</a>):</p>

<ul>
<li><a href="http://plnkr.co/edit/4BMgtaSt03R9tMY5Hcki">http://plnkr.co/edit/4BMgtaSt03R9tMY5Hcki</a></li>
</ul>

<h2>Success?</h2>

<p>I found that trying to test the Plunker hosted version complicated things a bit, so I ended up downloading the zipped files and hosting them locally with Python while I tested things:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">python <span class="nt">-m</span> SimpleHTTPServer
</code></pre></div>
<p>Running it through the tool.. everything worked as expected, no bugs. <em>sadface</em> I could have spent more time digging into the specifics and trying to unearth what actually lead to the bug in the first place, but given I had other things I needed to test I decided to leave that as a possible future endeavour, if I run into it again.</p>

<h2>Conclusion</h2>

<p>So an unexpected rabbit hole lead me to understand a little more about Webpack, RequireJS and how to use packaged JavaScript applications. Not a bad little lesson :)</p>

<p>Had a similar experience or got any interesting tips to share about any of these technologies? Would love to hear from you in the comments!</p>

	  ]]></description>
	</item>


</channel>
</rss>
